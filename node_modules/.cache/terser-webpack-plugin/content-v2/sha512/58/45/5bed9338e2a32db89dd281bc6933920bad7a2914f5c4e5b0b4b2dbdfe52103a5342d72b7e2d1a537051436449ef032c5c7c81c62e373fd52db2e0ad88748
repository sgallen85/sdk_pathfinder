{"code":"(this.webpackJsonpsdk_pathfinder=this.webpackJsonpsdk_pathfinder||[]).push([[0],Array(21).concat([function(e,t,n){},,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){\"use strict\";n.r(t);var a=n(4),r=n.n(a),o=n(15),s=n.n(o),i=(n(21),n(12)),c=n(1),u=n.n(c),l=n(7),d=n(2),p=n(3),h=n(11),f=n(6),b=n(5),v=function(e,t){return new Promise((function(n,a){var r=setInterval(function(){var a=Object(l.a)(u.a.mark((function a(){var o,s,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=null,!(o=e instanceof HTMLIFrameElement?e:document.getElementById(e))){a.next=7;break}return a.next=5,o.contentWindow;case 5:(s=a.sent.MP_SDK)&&(clearInterval(r),i=s.connect(o,t,\"3.2\"),n(i));case 7:case\"end\":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),100)}))},m=(n(23),n(24),n(0)),j=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.src,n=e.id,a=e.customRef,r=e.children,o=e.disableClicks;return Object(m.jsxs)(\"div\",{className:\"frame\",children:[Object(m.jsx)(\"iframe\",{id:n||\"showcase\",className:\"frame\",src:t,title:\"showcase\",allowFullScreen:!0,frameBorder:\"0\",ref:a,style:o?{pointerEvents:\"none\"}:void 0}),r]})}}]),n}(a.Component),y=n(14),g=(n(26),n(27),function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.header,n=e.children;return Object(m.jsxs)(\"div\",{className:\"accordion\",children:[t&&Object(m.jsx)(\"div\",{className:\"accordion-header header-font\",children:t}),Object(m.jsx)(\"div\",{className:\"accordion-groups\",children:n})]})}}]),n}(a.Component)),x=n(8),O=n.n(x),w=(n(28),n(29),\"52px\"),k=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.header,n=e.body,a=e.selected,r=e.onClick;return Object(m.jsx)(\"div\",{className:O()(\"accordion-item\",{selected:!!a}),onClick:r,style:{height:w},children:Object(m.jsxs)(\"div\",{className:\"accordion-item-details\",children:[Object(m.jsx)(\"div\",{className:\"accordion-item-header\",children:t}),Object(m.jsx)(\"div\",{className:\"accordion-item-body\",children:n})]})})}}]),n}(a.Component),S=n(16),C=(n(30),function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.icon,n=e.classes,a=[];return n&&(a=Array.isArray(n)?n:[n]),Object(m.jsx)(\"span\",{className:O.a.apply(void 0,[\"icon\",\"icon-\"+t].concat(Object(S.a)(a)))})}}]),n}(a.Component)),M=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var a;Object(d.a)(this,n),(a=t.call(this,e)).onClick=function(){var e=a.state,t=e.expanded,n=e.showChildren;a.setState({expanded:!t},(function(){return setTimeout((function(){return a.setState({showChildren:!n})}),n?250:0)}))};var r=a.props.expanded;return a.state={expanded:!!r,showChildren:!!r},a}return Object(p.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.children,n=e.header,a=e.showNumber,r=this.state.expanded,o=0;t&&(o=Array.isArray(t)?t.length:1);var s=o>0,i=r&&s?\"calc(\".concat(o,\"*\").concat(w,\")\"):\"0\";return Object(m.jsxs)(\"div\",{className:O()(\"accordion-group-container\",{collapsed:!r}),children:[Object(m.jsxs)(\"div\",{className:\"accordion-group-header header-font\",onClick:this.onClick,children:[\"\"+n+(s&&a?\" (\".concat(o,\")\"):\"\"),Object(m.jsx)(C,{icon:\"chevron-down\"})]}),Object(m.jsx)(\"div\",{className:O()(\"accordion-group\",{collapsed:!r}),style:{height:i},children:o>0&&t})]})}}]),n}(a.Component),N=(n(31),function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={opacity:0},a}return Object(p.a)(n,[{key:\"componentDidMount\",value:function(){var e=this;setTimeout((function(){return e.setState({opacity:1})}),30)}},{key:\"render\",value:function(){var e=this.props,t=e.text,n=e.closeText,a=e.onClose,r=this.state.opacity;return Object(m.jsxs)(\"div\",{className:\"menu-nudge-container\",style:{opacity:r},children:[Object(m.jsx)(\"div\",{className:\"nudge-text\",children:t}),Object(m.jsx)(\"button\",{type:\"button\",className:\"nudge-close-button header-font\",onClick:a,children:n})]})}}]),n}(a.Component)),D={EN:{code:\"en\",text:\"English\"},ES:{code:\"es\",text:\"Espa\\xf1ol\"},FR:{code:\"fr\",text:\"Fran\\xe7ais\"},DE:{code:\"de\",text:\"Deutsch\"},RU:{code:\"ru\",text:\"\\u0420\\u0443\\u0441\\u0441\\u043a\\u0438\\u0439\"},ZH:{code:\"zh\",text:\"\\u4e2d\\u6587\"},JA:{code:\"ja\",text:\"\\u65e5\\u672c\\u8a9e\"},NL:{code:\"nl\",text:\"Nederlands\"},IT:{code:\"it\",text:\"Italiano\"},PT:{code:\"pt\",text:\"Portugu\\xeas\"}},E={Locations:{en:\"Locations\",es:\"Ubicaciones\",fr:\"Emplacements\",de:\"Standorte\",ru:\"\\u041b\\u043e\\u043a\\u0430\\u0446\\u0438\\u0438\",zh:\"\\u5730\\u70b9\",ja:\"\\u5834\\u6240\",nl:\"Locaties\",it:\"Posizioni\",pt:\"Localiza\\xe7\\xf5es\"},Floor:{en:\"Floor\",es:\"Piso\",fr:\"\\xc9tage\",de:\"Stock\",ru:\"\\u042d\\u0442\\u0430\\u0436\",zh:\"\\u5c42\",ja:\"\\u968e\",nl:\"Verdieping\",it:\"Piano\",pt:\"Andar\"},nudge_text:{en:\"Select a location to begin wayfinding\",es:\"Seleccione una ubicaci\\xf3n para comenzar la orientaci\\xf3n\",fr:\"S\\xe9lectionnez un emplacement pour commencer l'orientation\",de:\"W\\xe4hlen Sie einen Ort aus, um mit der Wegfindung zu beginnen\",ru:\"\\u0412\\u044b\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043c\\u0435\\u0441\\u0442\\u043e, \\u0447\\u0442\\u043e\\u0431\\u044b \\u043d\\u0430\\u0447\\u0430\\u0442\\u044c \\u043f\\u043e\\u0438\\u0441\\u043a\",zh:\"\\u9009\\u62e9\\u4e00\\u4e2a\\u5730\\u70b9\\u5f00\\u59cb\\u5bfb\\u8def\",ja:\"\\u7d4c\\u8def\\u63a2\\u7d22\\u3092\\u958b\\u59cb\\u3059\\u308b\\u5834\\u6240\\u3092\\u9078\\u629e\\u3057\\u307e\\u3059\",nl:\"Selecteer een locatie om te beginnen met bewegwijzering\",it:\"Seleziona una posizione per iniziare l'orientamento\",pt:\"Selecione um local para come\\xe7ar o wayfinding\"},CLOSE:{en:\"CLOSE\",es:\"CERRAR\",fr:\"FERMER\",de:\"SCHLIESSEN\",ru:\"\\u0417\\u0410\\u041a\\u0420\\u042b\\u0422\\u042c\",zh:\"\\u5173\",ja:\"\\u9589\\u3058\\u308b\",nl:\"SLUITEN\",it:\"CHIUDERE\",pt:\"FECHAR\"},\"Fly Mode\":{en:\"Fly Mode\",es:\"Modo Vuelo\",fr:\"Mode Vol\",de:\"Flugmodus\",ru:\"\\u0420\\u0435\\u0436\\u0438\\u043c \\u041f\\u043e\\u043b\\u0435\\u0442\\u0430\",zh:\"\\u98de\\u884c\\u6a21\\u5f0f\",ja:\"\\u30d5\\u30e9\\u30a4\\u30e2\\u30fc\\u30c9\",nl:\"Vliegmodus\",it:\"Modalit\\xe0 Volo\",pt:\"Modo Voo\"},\"Great Hall\":{en:\"Great Hall\",es:\"Gran Sal\\xf3n\",fr:\"Grand Hall\",de:\"Gro\\xdfer Saal\",ru:\"\\u0411\\u043e\\u043b\\u044c\\u0448\\u043e\\u0439 \\u0417\\u0430\\u043b\",zh:\"\\u5927\\u5385\",ja:\"\\u30b0\\u30ec\\u30fc\\u30c8\\u30fb\\u30db\\u30fc\\u30eb\",nl:\"Grote Zaal\",it:\"Sala Grande\",pt:\"Grande Sal\\xe3o\"},\"125: History Department Conference Room\":{en:\"125: History Department Conference Room\",es:\"125: Sala de Conferencias del Departamento de Historia\",fr:\"125: Salle de Conf\\xe9rence du D\\xe9partement d'Histoire\",de:\"125: Konferenzraum der Fachbereich Geschichte\",ru:\"125: \\u041a\\u043e\\u043d\\u0444\\u0435\\u0440\\u0435\\u043d\\u0446-\\u0437\\u0430\\u043b \\u0418\\u0441\\u0442\\u043e\\u0440\\u0438\\u0447\\u0435\\u0441\\u043a\\u043e\\u0433\\u043e \\u0424\\u0430\\u043a\\u0443\\u043b\\u044c\\u0442\\u0435\\u0442\\u0430\",zh:\"125: \\u5386\\u53f2\\u7cfb\\u4f1a\\u8bae\\u5ba4\",ja:\"125: \\u6b74\\u53f2\\u5b66\\u90e8\\u4f1a\\u8b70\\u5ba4\",nl:\"125: Geschiedenis Departement Conferentiezaal\",it:\"125: Sala Conferenze del Dipartimento di Storia\",pt:\"125: Sala de Confer\\xeancias do Departamento de Hist\\xf3ria\"},\"225: History Department Graduate Lounge\":{en:\"225: History Department Graduate Lounge\",es:\"225: Sal\\xf3n de Grados del Departamento de Historia\",fr:\"225: Salon des Dipl\\xf4m\\xe9s du D\\xe9partement d'Histoire\",de:\"125: Fachbereich Geschichte Graduate Lounge\",ru:\"125: \\u0413\\u043e\\u0441\\u0442\\u0438\\u043d\\u0430\\u044f \\u0434\\u043b\\u044f \\u0412\\u044b\\u043f\\u0443\\u0441\\u043a\\u043d\\u0438\\u043a\\u043e\\u0432 \\u0418\\u0441\\u0442\\u043e\\u0440\\u0438\\u0447\\u0435\\u0441\\u043a\\u043e\\u0433\\u043e \\u0444\\u0430\\u043a\\u0443\\u043b\\u044c\\u0442\\u0435\\u0442\\u0430\",zh:\"125: \\u5386\\u53f2\\u7cfb\\u7814\\u7a76\\u751f\\u4f11\\u606f\\u5ba4\",ja:\"125: \\u6b74\\u53f2\\u5b66\\u90e8\\u5927\\u5b66\\u9662\\u30e9\\u30a6\\u30f3\\u30b8\",nl:\"125: Geschiedenis Departement Graduate Lounge\",it:\"125: Salone dei Laureati del Dipartimento di Storia\",pt:\"125: Departamento de Hist\\xf3ria Lounge de Graduados\"},\"B21: Warren Center Conference Room\":{en:\"225: Warren Center Conference Room\",es:\"225: Sala de Conferencias del Centro Warren\",fr:\"225: Salle de Conf\\xe9rence du Centre Warren\",de:\"125: Warren Center Konferenzraum\",ru:\"125: \\u041a\\u043e\\u043d\\u0444\\u0435\\u0440\\u0435\\u043d\\u0446-\\u0437\\u0430\\u043b \\u0426\\u0435\\u043d\\u0442\\u0440\\u0430 \\u0423\\u043e\\u0440\\u0440\\u0435\\u043d\\u0430\",zh:\"125: \\u6c83\\u4f26\\u4e2d\\u5fc3\\u4f1a\\u8bae\\u5385\",ja:\"125: \\u30a6\\u30a9\\u30fc\\u30ec\\u30f3\\u30bb\\u30f3\\u30bf\\u30fc\\u4f1a\\u8b70\\u5ba4\",nl:\"125: Warren Center Conferentiezaal\",it:\"125: Sala conferenze del Warren Center\",pt:\"125: Sala de Confer\\xeancias do Centro Warren\"}};function P(e,t){return e in E?t in E[e]?E[e][t]:E[e].en:e}var L=\"menu_nudge_seen\",I=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).onCloseNudge=function(){sessionStorage.setItem(L,\"true\"),a.setState({displayNudge:!1})},a.state={sweepGroups:{},displayNudge:!1},a}return Object(p.a)(n,[{key:\"componentDidMount\",value:function(){var e=this,t=sessionStorage.getItem(L);t&&\"false\"!==t||window.setTimeout((function(){e.setState({displayNudge:!0})}),2e3)}},{key:\"getGroups\",value:function(){var e,t=this.props,n=t.sweepData,a=t.sweepAlias,r={},o=Object(y.a)(n);try{for(o.s();!(e=o.n()).done;){var s=e.value;if(!a||s.sid in a){var i=\"\"+s.floor;i in r||(r[i]=[]),r[i].push(s)}}}catch(c){o.e(c)}finally{o.f()}return r}},{key:\"renderItem\",value:function(e){var t=this.props,n=t.lang,a=t.onChange,r=t.selectedSweepId,o=t.sweepAlias,s=e.sid,i=o?P(o[s],n):s;return Object(m.jsx)(k,{header:i,onClick:function(){return a(s)},selected:s===r},s)}},{key:\"renderGroups\",value:function(){for(var e=this.props,t=e.lang,n=e.selectedSweepId,a=e.floorMap,r=this.getGroups(),o=[],s=void 0,c=0,u=Object.entries(r);c<u.length;c++){var l,d,p=Object(i.a)(u[c],2),h=p[0],f=p[1];h in o||(o[h]=[]);var b,v=[],j=Object(y.a)(f);try{for(j.s();!(b=j.n()).done;){var g=b.value;v.push(this.renderItem(g)),g.sid===n&&(s=g.floor)}}catch(k){j.e(k)}finally{j.f()}var x=null===a||void 0===a||null===(l=a[h])||void 0===l?void 0:l.name,O=null===a||void 0===a||null===(d=a[h])||void 0===d?void 0:d.sequence,w=x||void 0!==O&&\"\".concat(P(\"Floor\",t),\" \").concat(O+1)||h;o.push(Object(m.jsx)(M,{header:w,expanded:!!s&&\"\"+s===h,showNumber:!0,children:v},h))}return o}},{key:\"renderLanguageSelect\",value:function(){for(var e=[],t=0,n=Object.values(D);t<n.length;t++){var a=n[t],r=a.code,o=a.text;e.push(Object(m.jsx)(\"option\",{value:r,children:o}))}return Object(m.jsx)(\"div\",{style:{marginLeft:\"auto\"},children:Object(m.jsx)(\"select\",{className:\"language-select\",onChange:this.props.onChangeLang,children:e})})}},{key:\"render\",value:function(){var e=this.props,t=e.lang,n=e.onClose,a=this.state.displayNudge;return Object(m.jsxs)(\"div\",{className:\"menu\",children:[Object(m.jsxs)(\"div\",{className:\"menu-header\",children:[Object(m.jsx)(\"div\",{className:\"menu-header-text header-font\",children:P(\"Locations\",t)}),this.renderLanguageSelect(),Object(m.jsx)(\"button\",{type:\"button\",className:\"menu-close-button\",onClick:n,children:Object(m.jsx)(C,{icon:\"close\"})})]}),Object(m.jsx)(g,{children:this.renderGroups()}),a&&Object(m.jsx)(N,{text:P(\"nudge_text\",t),closeText:P(\"CLOSE\",t),onClose:this.onCloseNudge})]})}}]),n}(a.Component),U=(n(32),function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.text,n=e.onClick;return Object(m.jsx)(\"div\",{className:\"menu-button-container\",children:Object(m.jsx)(\"button\",{type:\"button\",className:O()(\"menu-button\",{\"text-button\":!!t}),onClick:n,children:t||Object(m.jsx)(C,{icon:\"chevron-left\"})})})}}]),n}(a.Component));function R(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2))}function G(e,t){return t[e].position}function H(e,t,n){return Math.min(Math.max(e,t),n)}var F=function(){function e(t){var n=this;Object(d.a)(this,e),this.VERT_THRESHOLD=.5,this.HORZ_THRESHOLD=10,this.graph={},this.path=[],this.sweepPositions={},t.forEach((function(e){return n.sweepPositions[e.sid]=e.position})),this.createGraph(t)}return Object(p.a)(e,[{key:\"createGraph\",value:function(e){for(var t={},n=0;n<e.length;n++){for(var a=e[n],r={},o=a.neighbors,s=0;s<o.length;s++){var i=o[s],c=R(a.position,this.sweepPositions[i]);r[i]=c}t[a.sid]=r}this.graph=t}},{key:\"heuristic\",value:function(e,t){var n=this.sweepPositions;return R(n[e],n[t])}},{key:\"penalty\",value:function(e,t){var n=this.sweepPositions;return Math.pow((n[e].y-n[t].y)/this.VERT_THRESHOLD,4)+(Math.pow(n[e].x-n[t].x,2)+Math.pow(n[e].z-n[t].z,2))/this.HORZ_THRESHOLD}},{key:\"findShortestPath\",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r,o,s,i,c,l,d,p,h,f,b,v,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(a=this.graph)[t]&&void 0!==a[n]){e.next=4;break}return console.error(\"Sweep SID(s) is invalid.\"),e.abrupt(\"return\");case 4:(r={})[t]={visited:!1,distance:0,cost:0,parent:null},o=0;case 7:for(o+=1,s=void 0,i=Object.keys(r),c=0;c<i.length;c++)l=i[c],!r[l].visited&&(void 0===s||r[l].cost<r[s].cost)&&(s=l);if(void 0!==s){e.next=15;break}return console.error(\"Could not find path; sweeps are not connected.\"),e.abrupt(\"return\");case 15:if(s!==n){e.next=17;break}return e.abrupt(\"break\",22);case 17:for(r[s].visited=!0,d=Object.keys(a[s]),p=0;p<d.length;p++)h=d[p],f=r[s].distance+a[s][h],b=f+this.penalty(s,h)+this.heuristic(h,n),h in r?!r[h].visited&&r[h].cost>b&&(r[h].parent=s,r[h].distance=f,r[h].cost=b):r[h]={visited:!1,distance:f,cost:b,parent:s};e.next=7;break;case 22:for(console.log(\"Pathfind iterations: \".concat(o)),m=[v=n];null!==r[v].parent;)v=r[v].parent,m.push(v);return m.reverse(),e.abrupt(\"return\",m);case 28:case\"end\":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),z=function(){function e(t){Object(d.a)(this,e),this.url=\"https://api-free.deepl.com/v2/translate\",this.key=\"1fa4cd0a-7872-2cc0-e6e3-e96c6587ca62:fx\",this.url+=\"?auth_key=\".concat(this.key,\"&target_lang=\").concat(t)}return Object(p.a)(e,[{key:\"checkUsage\",value:function(){var e=new XMLHttpRequest;e.open(\"GET\",\"https://api-free.deepl.com/v2/usage?auth_key=\".concat(this.key)),e.onload=function(){if(4===e.readyState){var t=e.status;0===t||t>=200&&t<400?console.log(\"DeepL Usage:\",e.responseText):console.error(\"Usage retrieval failed.\")}},e.send()}},{key:\"translate\",value:function(e,t){for(var n=this,a=new XMLHttpRequest,r=this.url,o=0;o<e.length;o++)r+=\"&text=\".concat(e[o]);a.open(\"GET\",r),a.onload=function(){if(4===a.readyState){var e=a.status;if(0===e||e>=200&&e<400){var r=a.responseText;t(n.parse(r))}else console.error(\"Translation failed.\")}},a.send()}},{key:\"parse\",value:function(e){for(var t=JSON.parse(e),n=[],a=0;a<t.translations.length;a++)n.push(t.translations[a].text);return n}}]),e}(),A=function e(){var t=this;Object(d.a)(this,e),this.material=void 0,this.inputs={visible:!1,path:[],radius:.15,color:16724312,opacity:.5,heightOffset:-1.1,stepMultiplier:5},this.context=void 0,this.outputs={curve:null,distance:0},this.onInit=Object(l.a)(u.a.mark((function e(){var n,a,r,o,s,i,c,l,d,p,h,f,b,v,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.context.three,a=t.inputs,r=a.path,o=a.radius,s=a.heightOffset,i=a.opacity,c=a.color,l=a.stepMultiplier,!(r.length<2)&&r.every((function(e){return!!e}))){e.next=4;break}return e.abrupt(\"return\");case 4:d=0,p=r.map((function(e,t){return t>0&&(d+=R(r[t-1],e)),new n.Vector3(e.x,e.y+s,e.z)})),h=new n.CatmullRomCurve3(p),f={steps:l*r.length,bevelEnabled:!1,extrudePath:h},b=(new n.Shape).absarc(0,0,o,0,2*Math.PI,!1),v=new n.ExtrudeGeometry(b,f),t.material=new n.MeshBasicMaterial({color:c,transparent:!0,opacity:i}),m=new n.Mesh(v,t.material),t.outputs.objectRoot=m,t.outputs.curve=h,t.outputs.distance=d;case 15:case\"end\":return e.stop()}}),e)}))),this.onEvent=function(e,t){},this.onInputsUpdated=function(e){},this.onTick=function(e){},this.onDestroy=function(){var e;null===(e=t.material)||void 0===e||e.dispose()}},T=\"sdk-component.pathRenderer\";function V(){return new A}var _=function(){function e(){var t=this;Object(d.a)(this,e),this.u=0,this.length=0,this.up=void 0,this.inputs={curve:null,speed:1.5,verticalOffset:1,enabled:!1,changeUCallback:function(e){return null}},this.outputs={camera:null},this.context=void 0,this.onInit=Object(l.a)(u.a.mark((function e(){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.inputs.curve,a=t.context.three,r=new a.PerspectiveCamera(45,1.333,1,1e3),t.outputs.camera=r,t.length=n.getLength()-1,t.up=new a.Vector3(0,1,0);case 6:case\"end\":return e.stop()}}),e)}))),this.onTick=function(){var e=Object(l.a)(u.a.mark((function e(n){var a,r,o,s,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.inputs,r=a.speed,a.enabled&&(t.u=H(t.u+r*(n/1e3)/t.length,0,1),o=t.u,s=t.getPoseAt(o),i=s.position,c=s.rotation,t.setCamera(i,c),t.inputs.changeUCallback(o));case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onDestroy=function(){}}return Object(p.a)(e,[{key:\"getPoseAt\",value:function(e){var t=this.inputs,n=t.curve,a=t.speed,r=t.verticalOffset,o=this.context.three,s=Math.max(e-.1*a/this.length,0),i=Math.min(e+a/this.length,1),c=n.getPointAt(e);c.y+=r;var u=n.getPointAt(s),l=n.getPointAt(i),d=(new o.Matrix4).lookAt(u,l,this.up);return{position:c,rotation:(new o.Euler).setFromRotationMatrix(d,\"YXZ\")}}},{key:\"setCamera\",value:function(e,t){var n=this.outputs.camera;n.position.copy(e),n.rotation.copy(t),n.updateProjectionMatrix()}},{key:\"setU\",value:function(e){this.u=e;var t=this.getPoseAt(e),n=t.position,a=t.rotation;this.setCamera(n,a),this.inputs.changeUCallback(e)}}]),e}(),W=\"sdk-component.cameraController\";function B(){return new _}var K=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.Scene.register(T,V),t.Scene.register(W,B)]);case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q={GycExKiYVFp:{\"36642185cf3f481897967d749003d683\":\"Great Hall\",e282bc9e7ae94a58aa624c4679e71946:\"105\",\"03dbddfa78074195ad605033e1a5ea88\":\"106\",ecf49427817f4ad2a18971bd836f577a:\"107\",\"233c8a90b0d44803b451cc18c2beb2ac\":\"125: History Department Conference Room\",\"7f3f51d4c0b9448f9e5c78a9882fe912\":\"222\",\"5c19c240375d4d04a6c9ca790a35fa02\":\"223\",c2096fe91b2543f78ca9d95070e78e63:\"225: History Department Graduate Lounge\",\"1b11bb808949421ba32142f4c48b9823\":\"B21: Warren Center Conference Room\"},JYz9SNonEqa:{\"6d80bf2d4e71453aa0134fc61c2d8102\":\"Entrance\",ff56dea1f04c4ab08d2121d805cf9be2:\"Sports Performance Center\",\"857ceb1a450d46099b6b9c66f81bd644\":\"Sobrato Gymnasium\",\"8ddd9373572b4ae7a6c7063a9dacdc3b\":\"Rambis Family Gymnasium\",cadbfa305b77449c8a5907fc2b9d1d0e:\"Stevens Academic Center\",\"6c67c4e49ee440ad9895872922a12a32\":\"Sports Medicine Center\"}},J=(n(33),n(34),\"14px\"),X=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var a;Object(d.a)(this,n),(a=t.call(this,e)).abortController=new AbortController,a.trackRef=r.a.createRef(),a.onMouseDown=function(e){var t=a.props,n=t.onMouseDown,r=t.onChange,o=e;if(0===o.button){var s=a.calculate(o.clientX);null===n||void 0===n||n(s),null===r||void 0===r||r(s),a.setState({value:s,mouseDown:!0})}},a.onMouseUp=function(e){var t=a.props.onMouseUp,n=a.state,r=n.value,o=n.mouseDown;0===e.button&&(o&&(null===t||void 0===t||t(r)),a.setState({mouseDown:!1}))},a.onMouseMove=function(e){var t=a.props,n=t.scrub,r=t.onChange,o=a.state.mouseDown;if(n&&o){var s=e,i=a.calculate(s.clientX);a.setState({value:i},(function(){return null===r||void 0===r?void 0:r(i)}))}};var o=e.initValue;return a.state={value:o||0,mouseDown:!1},a}return Object(p.a)(n,[{key:\"componentDidMount\",value:function(){window.addEventListener(\"mouseup\",this.onMouseUp,{signal:this.abortController.signal}),window.addEventListener(\"mousemove\",this.onMouseMove,{signal:this.abortController.signal})}},{key:\"componentWillUnmount\",value:function(){this.abortController.abort()}},{key:\"componentDidUpdate\",value:function(e,t){e.overrideValue!==t.value&&this.props.overrideValue&&this.setState({value:this.props.overrideValue})}},{key:\"calculate\",value:function(e){var t=this.props,n=t.min,a=t.max,r=this.state.value,o=this.trackRef.current;if(!o)return r;var s=o.getBoundingClientRect();return H((e-s.left)/(s.right-s.left)*(a-n),n,a)}},{key:\"render\",value:function(){var e=this.props,t=e.min,n=e.max,a=e.overrideValue,r=e.noThumb,o=this.state,s=o.value,i=o.mouseDown,c=100*((a||s)/(n-t));return Object(m.jsxs)(\"div\",{className:\"progress-bar-container\",children:[Object(m.jsx)(\"div\",{className:\"progress-bar-track-container\",children:Object(m.jsx)(\"div\",{className:\"progress-bar-track\",onMouseDown:this.onMouseDown,ref:this.trackRef,children:Object(m.jsx)(\"div\",{className:\"progress-bar-progress\",style:{width:\"\".concat(c,\"%\")}})})}),!r&&Object(m.jsx)(\"div\",{className:\"progress-bar-thumb\",style:{width:J,height:J,left:\"calc(\".concat(c,\"% - (\").concat(J,\"/2))\")},onMouseDown:this.onMouseDown}),Object(m.jsx)(\"div\",{className:\"pointer-event-overlay\",style:{position:\"fixed\",inset:\"0\",pointerEvents:\"all\",display:i?\"block\":\"none\"}})]})}}]),n}(a.Component),Y=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).onScrubMouseDown=function(){a.props.onPause()},a.onScrubMouseUp=function(){a.state.rememberPlayState&&a.props.onPlay()},a.togglePlay=function(){var e=a.props,t=e.playing,n=e.onPlay,r=e.onPause;t?r():n(),a.setState({rememberPlayState:!t})},a.state={rememberPlayState:!0},a}return Object(p.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.playing,n=e.onExit,a=e.setU,r=e.u;return Object(m.jsx)(\"div\",{className:\"controls-overlay-container\",children:Object(m.jsxs)(\"div\",{className:\"controls-overlay\",children:[Object(m.jsx)(X,{min:0,max:1,scrub:!0,onChange:a,onMouseDown:this.onScrubMouseDown,onMouseUp:this.onScrubMouseUp,overrideValue:r}),Object(m.jsxs)(\"div\",{className:\"control-button-container\",children:[Object(m.jsx)(\"button\",{type:\"button\",className:\"control-button play-button\",onClick:this.togglePlay,children:Object(m.jsx)(C,{icon:t?\"showcase-pause-lg\":\"showcase-play-lg\",classes:\"play-pause-button\"})}),Object(m.jsx)(\"button\",{type:\"button\",className:\"control-button exit-button\",onClick:n,children:Object(m.jsx)(C,{icon:\"close\"})})]})]})})}}]),n}(a.Component),Z=(n(35),function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.lang,n=e.onClick;return Object(m.jsx)(\"div\",{className:\"flymode-button-container\",children:Object(m.jsx)(\"button\",{className:\"flymode-button\",onClick:n,children:P(\"Fly Mode\",t)})})}}]),n}(a.Component)),Q=(n(36),function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.onClick,n=e.icon,a=e.classes;return Object(m.jsx)(\"div\",{className:O()(\"icon-button-container\",a),children:Object(m.jsx)(\"button\",{type:\"button\",className:\"icon-button\",onClick:t,children:Object(m.jsx)(C,{icon:n})})})}}]),n}(a.Component)),$={m:\"31o95DVF7cY\",applicationKey:\"x67cy2qhc1h8f1nkmh1ax3i6c\",title:\"0\",qs:\"1\",hr:\"0\",brand:\"0\",help:\"0\",play:\"1\"},ee=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var a;Object(d.a)(this,n),(a=t.call(this,e)).src=void 0,a.urlLang=null,a.sdk=void 0,a.pathNode=void 0,a.pathfinder=void 0,a.sweepAlias=void 0,a.flyNode=void 0,a.camCon=void 0,a.onOptionSelect=function(e){e===a.state.selectedSweepId?a.clearSelection():a.setState({selectedSweepId:e})},a.clearSelection=function(){a.pathNode&&a.pathNode.stop(),a.setState({path:void 0,selectedSweepId:void 0})},a.toggleFlyMode=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state.flyModeEnabled,a.setState({flyModeEnabled:!t,flyU:0},Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,a.exitFly();case 3:e.next=7;break;case 5:return e.next=7,a.initFly();case 7:case\"end\":return e.stop()}}),e)}))));case 2:case\"end\":return e.stop()}}),e)}))),a.initFly=Object(l.a)(u.a.mark((function e(){var t,n,r,o,s,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(h.a)(a),n=t.sdk,r=a.state.path,!n||!r){e.next=17;break}return a.flyNode&&a.flyNode.stop(),e.next=6,n.Scene.createNode();case 6:return a.flyNode=e.sent,a.camCon=a.flyNode.addComponent(W,{changeUCallback:function(e){return a.setState({flyU:e})}}),o=a.flyNode.addComponent(\"mp.camera\",{enabled:!0}),a.camCon.bind(\"curve\",r,\"curve\"),o.bind(\"camera\",a.camCon,\"camera\"),a.flyNode.start(),s=a.camCon.getPoseAt(0),i=s.position,c=s.rotation,e.next=15,n.Mode.moveTo(n.Mode.Mode.DOLLHOUSE,{position:i,rotation:{x:180*c.x/Math.PI,y:180*c.y/Math.PI}});case 15:a.setState({flyU:0}),a.playFly();case 17:case\"end\":return e.stop()}}),e)}))),a.exitFly=Object(l.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(h.a)(a),n=t.sdk,(r=t.flyNode)&&r.stop(),n&&n.Mode.moveTo(n.Mode.Mode.INSIDE),a.setState({flyModePlaying:!1});case 4:case\"end\":return e.stop()}}),e)}))),a.playFly=function(){a.camCon&&(a.camCon.inputs.enabled=!0),a.setState({flyModePlaying:!0})},a.pauseFly=function(){a.camCon&&(a.camCon.inputs.enabled=!1),a.setState({flyModePlaying:!1})},a.setFlyU=function(e){a.camCon&&a.camCon.setU(e)},a.toggleMenu=function(){a.setState({menuEnabled:!a.state.menuEnabled})};var r=a.handleUrlParams();return a.src=\"\".concat(\"/sdk_wayfinder\",\"/bundle/showcase.html?\").concat(r),a.state={lang:a.urlLang?a.urlLang:\"en\",sweepData:[],menuEnabled:!0,flyModeEnabled:!1,flyU:0,flyModePlaying:!1},a}return Object(p.a)(n,[{key:\"handleUrlParams\",value:function(){var e=new URLSearchParams(window.location.search);this.urlLang=e.get(\"lang\");for(var t=0,n=Object.entries($);t<n.length;t++){var a=Object(i.a)(n[t],2),r=a[0],o=a[1];e.has(r)||e.append(r,\"\"+o)}return e.toString()}},{key:\"componentDidMount\",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(\"showcase\",$.applicationKey);case 2:return this.sdk=e.sent,e.next=5,K(this.sdk);case 5:return e.next=7,this.sdk.Model.getData().then(function(){var e=Object(l.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(\"GycExKiYVFp\"!==t.sid){e.next=5;break}return(r=[]).push({label:\"Revitalizing the Great Hall\",description:\"Within the building\\u2019s Great Hall, new vestibule spaces were created to connect the main circulation corridor to new restrooms. Elevator lobbies and office suite entrances were treated as extensions of the original McKim design, with matching marble flooring and wall base, and stained oak millwork-encased openings.\",anchorPosition:{x:16.55,y:1.28-1.5,z:6.69},stemVector:{x:0,y:1,z:0}}),e.next=5,null===(a=n.sdk)||void 0===a?void 0:a.Mattertag.add(r);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:return t=this.state.lang,e.next=10,this.sdk.Model.getData().then((function(e){var t=e.sweeps;n.pathfinder=new F(t),n.setState({sweepData:t}),n.sweepAlias=q[e.sid]}));case 10:this.sdk.Sweep.data.subscribe({onCollectionUpdated:function(e){n.setState({sweepMap:e})}}),this.sdk.Floor.data.subscribe({onCollectionUpdated:function(e){n.setState({floorMap:e})}}),this.sdk.Sweep.current.subscribe((function(e){e.sid&&(console.log(e.sid,e.position),n.setState({currSweepId:e.sid}))})),\"en\"!==t&&this.translateMattertags(t);case 14:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"componentDidUpdate\",value:function(e,t){var n=this.state,a=n.currSweepId,r=n.selectedSweepId;(a!==t.currSweepId||r!==t.selectedSweepId)&&this.handlePath()}},{key:\"handlePath\",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,a,r,o,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,n=t.currSweepId,a=t.selectedSweepId,r=t.sweepMap,o=this.sdk,s=this.pathfinder,!(o&&r&&n&&a&&s)){e.next=14;break}return e.next=5,s.findShortestPath(n,a);case 5:if(i=e.sent){e.next=8;break}return e.abrupt(\"return\");case 8:return this.pathNode&&this.pathNode.stop(),e.next=11,o.Scene.createNode();case 11:this.pathNode=e.sent,this.setState({path:i.length>1?this.pathNode.addComponent(T,{path:i.map((function(e){return G(e,r)})),opacity:.7,radius:.12,stepMultiplier:10}):void 0}),this.pathNode.start();case 14:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"translateMattertags\",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.sdk)||!t){e.next=9;break}return a=new z(t),e.next=5,n.Mattertag.getData();case 5:for(r=e.sent,o=function(e){var t=r[e],o=t.sid,s=t.label,c=t.description,u=t.media;a.translate([s,c],(function(e){var t=Object(i.a)(e,2),a=t[0],r=t[1];n.Mattertag.editBillboard(o,{label:a,description:r,media:u})}))},s=0;s<r.length;s++)o(s);a.checkUsage();case 9:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"changeLang\",value:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({lang:t}),this.translateMattertags(t);case 2:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this,t=this.state,n=t.lang,a=t.currSweepId,r=t.selectedSweepId,o=t.sweepData,s=t.menuEnabled,i=t.flyModeEnabled,c=t.flyU,u=t.path,l=t.flyModePlaying,d=t.floorMap;return Object(m.jsxs)(\"div\",{className:\"app\",children:[Object(m.jsxs)(\"div\",{id:\"frame-container\",children:[Object(m.jsx)(j,{src:this.src,disableClicks:i}),Object(m.jsx)(\"div\",{id:\"overlay-container\",children:u&&(i?Object(m.jsx)(Y,{playing:l,onPlay:this.playFly,onPause:this.pauseFly,onExit:this.toggleFlyMode,setU:this.setFlyU,u:c}):Object(m.jsxs)(\"div\",{className:\"nofly-button-container\",children:[Object(m.jsx)(Z,{lang:n,onClick:this.toggleFlyMode}),Object(m.jsx)(Q,{onClick:this.clearSelection,icon:\"close\",classes:[\"clear-button\"]})]}))})]}),!s&&Object(m.jsx)(U,{onClick:this.toggleMenu}),s&&Object(m.jsx)(I,{lang:n,currSweepId:a,selectedSweepId:r,sweepData:o,sweepAlias:this.sweepAlias,floorMap:d,onChange:this.onOptionSelect,onClose:this.toggleMenu,onChangeLang:function(t){return e.changeLang(t.target.value)}})]})}}]),n}(a.Component);s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(ee,{})}),document.getElementById(\"root\"))}]),[[37,1,2]]]);","name":"static/js/main.b3c7edb1.chunk.js","map":{"version":3,"sources":["static/js/main.b3c7edb1.chunk.js"],"names":["this","push","Array","concat","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","regenerator","regenerator_default","asyncToGenerator","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","GetSDK_GetSDK","elementId","applicationKey","Promise","resolve","reject","intervalId","setInterval","_ref","Object","a","mark","_callee","iframe","sdkWindow","sdk","wrap","_context","prev","next","HTMLIFrameElement","document","getElementById","contentWindow","sent","MP_SDK","clearInterval","connect","stop","apply","arguments","jsx_runtime","Frame_Frame","_Component","Frame","_super","key","value","_this$props","props","src","id","customRef","children","disableClicks","className","title","allowFullScreen","frameBorder","ref","style","pointerEvents","undefined","createForOfIteratorHelper","Accordion_Accordion","Accordion","header","classnames","classnames_default","ACCORDION_ITEM_HEIGHT","AccordionItem_AccordionItem","AccordionItem","body","selected","onClick","height","toConsumableArray","Icon_Icon","Icon","icon","classes","classArray","isArray","AccordionGroup_AccordionGroup","AccordionGroup","_this","call","_this$state","state","expanded","showChildren","setState","setTimeout","_expanded","showNumber","numChildren","length","hasChildren","contentHeight","collapsed","MenuNudge_MenuNudge","MenuNudge","opacity","_this2","text","closeText","onClose","type","LanguageOptions","EN","code","ES","FR","DE","RU","ZH","JA","NL","IT","PT","table","Locations","en","es","fr","de","ru","zh","ja","nl","it","pt","Floor","nudge_text","CLOSE","Fly Mode","Great Hall","125: History Department Conference Room","225: History Department Graduate Lounge","B21: Warren Center Conference Room","loc","lang","MENU_NUDGE_SEEN_KEY","Menu_Menu","Menu","onCloseNudge","sessionStorage","setItem","displayNudge","sweepGroups","nudgeSeen","getItem","window","_step","sweepData","sweepAlias","groups","_iterator","s","done","sid","floor","err","e","f","_this$props2","onChange","selectedSweepId","name","_this$props3","floorMap","getGroups","floors","selectedFloor","_i","_Object$entries","entries","_floorMap$floor","_floorMap$floor2","_Object$entries$_i","sweeps","_step2","items","_iterator2","renderItem","floorName","floorSequence","sequence","langOptions","_i2","_Object$values","values","_Object$values$_i","marginLeft","onChangeLang","_this$props4","renderLanguageSelect","renderGroups","MenuButton_MenuButton","MenuButton","text-button","distance","p1","p2","Math","sqrt","pow","x","y","z","sweepIdToPoint","position","clamp","num","min","max","Pathfinder_Pathfinder","Pathfinder","VERT_THRESHOLD","HORZ_THRESHOLD","graph","path","sweepPositions","forEach","sweep","createGraph","i","sweep_a","adj","neighbor_sids","neighbors","j","sweep_b_sid","d","i_sid","j_sid","_findShortestPath","a_sid","b_sid","ht","debug_n","min_sid","encountered_sids","_sid","_sid2","dist","cost","console","error","abrupt","visited","parent","keys","penalty","heuristic","log","reverse","_x","_x2","Translator_Translator","Translator","url","xhr","XMLHttpRequest","open","onload","readyState","status","responseText","send","texts","callBack","query","json","parse","obj","JSON","transTexts","translations","PathRenderer_PathRenderer","PathRenderer","material","inputs","visible","radius","color","heightOffset","stepMultiplier","context","outputs","curve","onInit","THREE","_this$inputs","points","spline","extrudeSettings","arcShape","extrudeGeometry","pathMesh","three","every","p","map","Vector3","CatmullRomCurve3","steps","bevelEnabled","extrudePath","Shape","absarc","PI","ExtrudeGeometry","MeshBasicMaterial","transparent","Mesh","objectRoot","onEvent","_type","_data","onInputsUpdated","_previous","onTick","_tickDelta","onDestroy","_this$material","dispose","pathRendererType","PathRendererFactory","CameraController_CameraController","CameraController","u","up","speed","verticalOffset","enabled","changeUCallback","camera","PerspectiveCamera","getLength","_ref2","_callee2","tickDelta","_u","_this$getPoseAt","rotation","_context2","getPoseAt","setCamera","_this$inputs2","uPast","uFuture","getPointAt","positionPast","positionFuture","matrix","Matrix4","lookAt","Euler","setFromRotationMatrix","copy","updateProjectionMatrix","_this$getPoseAt2","cameraControllerType","CameraControllerFactory","initComponents","all","Scene","register","sweepAliases","GycExKiYVFp","36642185cf3f481897967d749003d683","e282bc9e7ae94a58aa624c4679e71946","03dbddfa78074195ad605033e1a5ea88","ecf49427817f4ad2a18971bd836f577a","233c8a90b0d44803b451cc18c2beb2ac","7f3f51d4c0b9448f9e5c78a9882fe912","5c19c240375d4d04a6c9ca790a35fa02","c2096fe91b2543f78ca9d95070e78e63","1b11bb808949421ba32142f4c48b9823","JYz9SNonEqa","6d80bf2d4e71453aa0134fc61c2d8102","ff56dea1f04c4ab08d2121d805cf9be2","857ceb1a450d46099b6b9c66f81bd644","8ddd9373572b4ae7a6c7063a9dacdc3b","cadbfa305b77449c8a5907fc2b9d1d0e","6c67c4e49ee440ad9895872922a12a32","PROGRESS_BAR_THUMB_SIZE","ProgressBar_ProgressBar","ProgressBar","abortController","AbortController","trackRef","createRef","onMouseDown","ev","button","calculate","clientX","mouseDown","onMouseUp","onMouseMove","scrub","initValue","addEventListener","signal","abort","prevProps","prevState","overrideValue","mx","track","current","rect","getBoundingClientRect","left","right","noThumb","_this$state2","percent","width","inset","display","ControlsOverlay_ControlsOverlay","ControlsOverlay","onScrubMouseDown","onPause","onScrubMouseUp","rememberPlayState","onPlay","togglePlay","playing","onExit","setU","FlyModeButton_FlyModeButton","FlyModeButton","IconButton_IconButton","IconButton","defaultUrlParams","m","qs","hr","brand","help","play","App_App","App","urlLang","pathNode","pathfinder","flyNode","camCon","onOptionSelect","clearSelection","toggleFlyMode","flyModeEnabled","flyU","exitFly","initFly","_callee3","_assertThisInitialize","cam","_this$camCon$getPoseA","_context3","createNode","addComponent","bind","start","Mode","moveTo","DOLLHOUSE","playFly","_callee4","_assertThisInitialize2","_context4","INSIDE","flyModePlaying","pauseFly","setFlyU","toggleMenu","menuEnabled","queryString","handleUrlParams","params","URLSearchParams","location","search","get","k","v","has","append","toString","_componentDidMount","_callee6","_context6","Model","getData","then","_ref5","_callee5","data","_this2$sdk","mattertags","_context5","label","description","anchorPosition","stemVector","Mattertag","add","Sweep","subscribe","onCollectionUpdated","collection","sweepMap","currentSweep","currSweepId","translateMattertags","_prevProps","handlePath","_handlePath","_callee7","_context7","findShortestPath","_translateMattertags","_callee8","Trans","mattertagData","_loop","_context8","_mattertagData$i","media","translate","newTexts","_newTexts","newLabel","newDescription","editBillboard","checkUsage","_changeLang","_callee9","_context9","_x3","_this3","_this$state3","changeLang","target","render","StrictMode"],"mappings":"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"},"input":"(this[\"webpackJsonpsdk_pathfinder\"] = this[\"webpackJsonpsdk_pathfinder\"] || []).push([[0],Array(21).concat([\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 22 */,\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 25 */,\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 37 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(4);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(15);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.scss\nvar src_0 = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(1);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 4 modules\nvar createSuper = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/mp/GetSDK.ts\nvar SDK_VERSION='3.2';/**\n * Gets a reference to the SDK. Use this if you want to do SDK stuff.\n * @param {string | HTMLIFrameElement} elementId ID of the iframe or the iframe element itself\n * @param {string} applicationKey Your API key \n * @returns Promise of MpSdk reference\n */var GetSDK_GetSDK=function GetSDK(elementId,applicationKey){return new Promise(function(resolve,reject){var checkIframe=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var iframe,sdkWindow,sdk;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:iframe=null;if(elementId instanceof HTMLIFrameElement){iframe=elementId;}else{iframe=document.getElementById(elementId);}if(!iframe){_context.next=7;break;}_context.next=5;return iframe.contentWindow;case 5:sdkWindow=_context.sent.MP_SDK;if(sdkWindow){clearInterval(intervalId);sdk=sdkWindow.connect(iframe,applicationKey,SDK_VERSION);resolve(sdk);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function checkIframe(){return _ref.apply(this,arguments);};}();var intervalId=setInterval(checkIframe,100);});};\n// EXTERNAL MODULE: ./src/app/App.scss\nvar app_App = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./src/app/Frame.scss\nvar app_Frame = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/app/Frame.tsx\n/**\n * This component houses the actual Matterport IFrame element. Doesn't do anything else.\n */var Frame_Frame=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Frame,_Component);var _super=Object(createSuper[\"a\" /* default */])(Frame);function Frame(){Object(classCallCheck[\"a\" /* default */])(this,Frame);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Frame,[{key:\"render\",value:function render(){var _this$props=this.props,src=_this$props.src,id=_this$props.id,customRef=_this$props.customRef,children=_this$props.children,disableClicks=_this$props.disableClicks;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"frame\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"iframe\",{id:id||'showcase',className:\"frame\",src:src,title:'showcase',allowFullScreen:true,frameBorder:\"0\",ref:customRef,style:disableClicks?{pointerEvents:'none'}:undefined}),children]});}}]);return Frame;}(react[\"Component\"]);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./src/app/ui/Menu.scss\nvar ui_Menu = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./src/app/reusables/accordion/Accordion.scss\nvar accordion_Accordion = __webpack_require__(27);\n\n// CONCATENATED MODULE: ./src/app/reusables/accordion/Accordion.tsx\nvar Accordion_Accordion=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Accordion,_Component);var _super=Object(createSuper[\"a\" /* default */])(Accordion);function Accordion(){Object(classCallCheck[\"a\" /* default */])(this,Accordion);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Accordion,[{key:\"render\",value:function render(){var _this$props=this.props,header=_this$props.header,children=_this$props.children;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"accordion\",children:[header&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"accordion-header header-font\",children:header}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"accordion-groups\",children:children})]});}}]);return Accordion;}(react[\"Component\"]);\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(8);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ./src/app/reusables/accordion/AccordionGroup.scss\nvar accordion_AccordionGroup = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./src/app/reusables/accordion/AccordionItem.scss\nvar accordion_AccordionItem = __webpack_require__(29);\n\n// CONCATENATED MODULE: ./src/app/reusables/accordion/AccordionItem.tsx\nvar ACCORDION_ITEM_HEIGHT='52px';var AccordionItem_AccordionItem=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(AccordionItem,_Component);var _super=Object(createSuper[\"a\" /* default */])(AccordionItem);function AccordionItem(){Object(classCallCheck[\"a\" /* default */])(this,AccordionItem);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(AccordionItem,[{key:\"render\",value:function render(){var _this$props=this.props,header=_this$props.header,body=_this$props.body,selected=_this$props.selected,onClick=_this$props.onClick;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:classnames_default()('accordion-item',{'selected':!!selected}),onClick:onClick,style:{height:ACCORDION_ITEM_HEIGHT},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"accordion-item-details\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"accordion-item-header\",children:header}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"accordion-item-body\",children:body})]})});}}]);return AccordionItem;}(react[\"Component\"]);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./src/app/reusables/icon/Icon.scss\nvar icon_Icon = __webpack_require__(30);\n\n// CONCATENATED MODULE: ./src/app/reusables/icon/Icon.tsx\nvar Icon_Icon=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Icon,_Component);var _super=Object(createSuper[\"a\" /* default */])(Icon);function Icon(){Object(classCallCheck[\"a\" /* default */])(this,Icon);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Icon,[{key:\"render\",value:function render(){var _this$props=this.props,icon=_this$props.icon,classes=_this$props.classes;var classArray=[];if(classes){if(Array.isArray(classes)){classArray=classes;}else{classArray=[classes];}}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:classnames_default.a.apply(void 0,['icon','icon-'+icon].concat(Object(toConsumableArray[\"a\" /* default */])(classArray)))});}}]);return Icon;}(react[\"Component\"]);\n// CONCATENATED MODULE: ./src/app/reusables/accordion/AccordionGroup.tsx\nvar AccordionGroup_AccordionGroup=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(AccordionGroup,_Component);var _super=Object(createSuper[\"a\" /* default */])(AccordionGroup);function AccordionGroup(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,AccordionGroup);_this=_super.call(this,props);_this.onClick=function(){var _this$state=_this.state,expanded=_this$state.expanded,showChildren=_this$state.showChildren;_this.setState({expanded:!expanded},function(){return setTimeout(function(){return _this.setState({showChildren:!showChildren});},showChildren?250:0);});};var _expanded=_this.props.expanded;_this.state={expanded:!!_expanded,showChildren:!!_expanded};return _this;}Object(createClass[\"a\" /* default */])(AccordionGroup,[{key:\"render\",value:function render(){var _this$props=this.props,children=_this$props.children,header=_this$props.header,showNumber=_this$props.showNumber;var expanded=this.state.expanded;var numChildren=0;if(children){if(Array.isArray(children)){numChildren=children.length;}else{numChildren=1;// one child fails isArray check\n}}var hasChildren=numChildren>0;var contentHeight=expanded&&hasChildren?\"calc(\".concat(numChildren,\"*\").concat(ACCORDION_ITEM_HEIGHT,\")\"):'0';return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:classnames_default()('accordion-group-container',{'collapsed':!expanded}),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"accordion-group-header header-font\",onClick:this.onClick,children:[''+header+(hasChildren&&showNumber?\" (\".concat(numChildren,\")\"):''),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon_Icon,{icon:\"chevron-down\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:classnames_default()('accordion-group',{'collapsed':!expanded}),style:{height:contentHeight},children:numChildren>0&&children})]});}}]);return AccordionGroup;}(react[\"Component\"]);\n// EXTERNAL MODULE: ./src/app/ui/MenuNudge.scss\nvar ui_MenuNudge = __webpack_require__(31);\n\n// CONCATENATED MODULE: ./src/app/ui/MenuNudge.tsx\nvar MenuNudge_MenuNudge=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(MenuNudge,_Component);var _super=Object(createSuper[\"a\" /* default */])(MenuNudge);function MenuNudge(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,MenuNudge);_this=_super.call(this,props);_this.state={opacity:0};return _this;}Object(createClass[\"a\" /* default */])(MenuNudge,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;setTimeout(function(){return _this2.setState({opacity:1});},30);// HACK: guarantee opacity transition fires, lazy\n}},{key:\"render\",value:function render(){var _this$props=this.props,text=_this$props.text,closeText=_this$props.closeText,onClose=_this$props.onClose;var opacity=this.state.opacity;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"menu-nudge-container\",style:{opacity:opacity},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nudge-text\",children:text}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"nudge-close-button header-font\",onClick:onClose,children:closeText})]});}}]);return MenuNudge;}(react[\"Component\"]);\n// CONCATENATED MODULE: ./src/app/Localization.ts\nvar LanguageOptions={EN:{code:'en',text:'English'},ES:{code:'es',text:'Español'},FR:{code:'fr',text:'Français'},DE:{code:'de',text:'Deutsch'},RU:{code:'ru',text:'Русский'},ZH:{code:'zh',text:'中文'},JA:{code:'ja',text:'日本語'},NL:{code:'nl',text:'Nederlands'},IT:{code:'it',text:'Italiano'},PT:{code:'pt',text:'Português'}};// TODO: this is a temporary fix for localization. For the final product, need to make more scalable\nvar table={'Locations':{'en':\"Locations\",'es':\"Ubicaciones\",'fr':\"Emplacements\",'de':\"Standorte\",'ru':\"Локации\",'zh':\"地点\",'ja':\"場所\",'nl':\"Locaties\",'it':\"Posizioni\",'pt':\"Localizações\"},'Floor':{'en':\"Floor\",'es':\"Piso\",'fr':\"Étage\",'de':\"Stock\",'ru':\"Этаж\",'zh':\"层\",'ja':\"階\",'nl':\"Verdieping\",'it':\"Piano\",'pt':\"Andar\"},'nudge_text':{'en':\"Select a location to begin wayfinding\",'es':\"Seleccione una ubicación para comenzar la orientación\",'fr':\"Sélectionnez un emplacement pour commencer l'orientation\",'de':\"Wählen Sie einen Ort aus, um mit der Wegfindung zu beginnen\",'ru':\"Выберите место, чтобы начать поиск\",'zh':\"选择一个地点开始寻路\",'ja':\"経路探索を開始する場所を選択します\",'nl':\"Selecteer een locatie om te beginnen met bewegwijzering\",'it':\"Seleziona una posizione per iniziare l'orientamento\",'pt':\"Selecione um local para começar o wayfinding\"},'CLOSE':{'en':\"CLOSE\",'es':\"CERRAR\",'fr':\"FERMER\",'de':\"SCHLIESSEN\",'ru':\"ЗАКРЫТЬ\",'zh':\"关\",'ja':\"閉じる\",'nl':\"SLUITEN\",'it':\"CHIUDERE\",'pt':\"FECHAR\"},'Fly Mode':{'en':\"Fly Mode\",'es':\"Modo Vuelo\",'fr':\"Mode Vol\",'de':\"Flugmodus\",'ru':\"Режим Полета\",'zh':\"飞行模式\",'ja':\"フライモード\",'nl':\"Vliegmodus\",'it':\"Modalità Volo\",'pt':\"Modo Voo\"},'Great Hall':{'en':\"Great Hall\",'es':\"Gran Salón\",'fr':\"Grand Hall\",'de':\"Großer Saal\",'ru':\"Большой Зал\",'zh':\"大厅\",'ja':\"グレート・ホール\",'nl':\"Grote Zaal\",'it':\"Sala Grande\",'pt':\"Grande Salão\"},'125: History Department Conference Room':{'en':\"125: History Department Conference Room\",'es':\"125: Sala de Conferencias del Departamento de Historia\",'fr':\"125: Salle de Conférence du Département d'Histoire\",'de':\"125: Konferenzraum der Fachbereich Geschichte\",'ru':\"125: Конференц-зал Исторического Факультета\",'zh':\"125: 历史系会议室\",'ja':\"125: 歴史学部会議室\",'nl':\"125: Geschiedenis Departement Conferentiezaal\",'it':\"125: Sala Conferenze del Dipartimento di Storia\",'pt':\"125: Sala de Conferências do Departamento de História\"},'225: History Department Graduate Lounge':{'en':\"225: History Department Graduate Lounge\",'es':\"225: Salón de Grados del Departamento de Historia\",'fr':\"225: Salon des Diplômés du Département d'Histoire\",'de':\"125: Fachbereich Geschichte Graduate Lounge\",'ru':\"125: Гостиная для Выпускников Исторического факультета\",'zh':\"125: 历史系研究生休息室\",'ja':\"125: 歴史学部大学院ラウンジ\",'nl':\"125: Geschiedenis Departement Graduate Lounge\",'it':\"125: Salone dei Laureati del Dipartimento di Storia\",'pt':\"125: Departamento de História Lounge de Graduados\"},'B21: Warren Center Conference Room':{'en':\"225: Warren Center Conference Room\",'es':\"225: Sala de Conferencias del Centro Warren\",'fr':\"225: Salle de Conférence du Centre Warren\",'de':\"125: Warren Center Konferenzraum\",'ru':\"125: Конференц-зал Центра Уоррена\",'zh':\"125: 沃伦中心会议厅\",'ja':\"125: ウォーレンセンター会議室\",'nl':\"125: Warren Center Conferentiezaal\",'it':\"125: Sala conferenze del Warren Center\",'pt':\"125: Sala de Conferências do Centro Warren\"}};function loc(key,lang){if(!(key in table))return key;if(!(lang in table[key]))return table[key]['en'];return table[key][lang];}\n// CONCATENATED MODULE: ./src/app/ui/Menu.tsx\n/**\n * Time (ms) until nudge displays\n */var MENU_NUDGE_TIMEOUT=2000;/**\n * Key name for browser storage of whether nudge has been seen (close button clicked)\n */var MENU_NUDGE_SEEN_KEY='menu_nudge_seen';/**\n * Component for UI elements like sweep selector, location info, etc.\n */var Menu_Menu=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Menu,_Component);var _super=Object(createSuper[\"a\" /* default */])(Menu);function Menu(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,Menu);_this=_super.call(this,props);_this.onCloseNudge=function(){sessionStorage.setItem(MENU_NUDGE_SEEN_KEY,'true');_this.setState({displayNudge:false});};_this.state={sweepGroups:{},displayNudge:false};return _this;}Object(createClass[\"a\" /* default */])(Menu,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var nudgeSeen=sessionStorage.getItem(MENU_NUDGE_SEEN_KEY);if(!nudgeSeen||nudgeSeen==='false'){window.setTimeout(function(){_this2.setState({displayNudge:true});},MENU_NUDGE_TIMEOUT);}}},{key:\"getGroups\",value:function getGroups(){var _this$props=this.props,sweepData=_this$props.sweepData,sweepAlias=_this$props.sweepAlias;var groups={};var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(sweepData),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var s=_step.value;if(sweepAlias&&!(s.sid in sweepAlias))continue;// skip sweeps without alias, if available\nvar floor=''+s.floor;if(!(floor in groups)){groups[floor]=[];}groups[floor].push(s);}}catch(err){_iterator.e(err);}finally{_iterator.f();}return groups;}},{key:\"renderItem\",value:function renderItem(s){var _this$props2=this.props,lang=_this$props2.lang,onChange=_this$props2.onChange,selectedSweepId=_this$props2.selectedSweepId,sweepAlias=_this$props2.sweepAlias;var sid=s.sid;var name=sweepAlias?loc(sweepAlias[sid],lang):sid;// replace sid with alias, if available\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AccordionItem_AccordionItem,{header:name,onClick:function onClick(){return onChange(sid);},selected:sid===selectedSweepId},sid);}/**\n   * Renders sweeps grouped by floors.\n   * @returns List of `<AccordionGroup>` with items inside.\n   */},{key:\"renderGroups\",value:function renderGroups(){var _this$props3=this.props,lang=_this$props3.lang,selectedSweepId=_this$props3.selectedSweepId,floorMap=_this$props3.floorMap;var sweepGroups=this.getGroups();var floors=[];var selectedFloor=undefined;for(var _i=0,_Object$entries=Object.entries(sweepGroups);_i<_Object$entries.length;_i++){var _floorMap$floor,_floorMap$floor2;var _Object$entries$_i=Object(slicedToArray[\"a\" /* default */])(_Object$entries[_i],2),floor=_Object$entries$_i[0],sweeps=_Object$entries$_i[1];if(!(floor in floors))floors[floor]=[];var items=[];var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(sweeps),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var s=_step2.value;items.push(this.renderItem(s));if(s.sid===selectedSweepId){selectedFloor=s.floor;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var floorName=floorMap===null||floorMap===void 0?void 0:(_floorMap$floor=floorMap[floor])===null||_floorMap$floor===void 0?void 0:_floorMap$floor.name;var floorSequence=floorMap===null||floorMap===void 0?void 0:(_floorMap$floor2=floorMap[floor])===null||_floorMap$floor2===void 0?void 0:_floorMap$floor2.sequence;// use floor name, 1-indexed sequence, id in that order of priority\nvar header=floorName||floorSequence!==undefined&&\"\".concat(loc('Floor',lang),\" \").concat(floorSequence+1)||floor;floors.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AccordionGroup_AccordionGroup,{header:header,expanded:!!selectedFloor&&''+selectedFloor===floor,showNumber:true,children:items},floor));}return floors;}},{key:\"renderLanguageSelect\",value:function renderLanguageSelect(){var langOptions=[];for(var _i2=0,_Object$values=Object.values(LanguageOptions);_i2<_Object$values.length;_i2++){var _Object$values$_i=_Object$values[_i2],code=_Object$values$_i.code,text=_Object$values$_i.text;langOptions.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:code,children:text}));}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{marginLeft:'auto'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"language-select\",onChange:this.props.onChangeLang,children:langOptions})});}},{key:\"render\",value:function render(){var _this$props4=this.props,lang=_this$props4.lang,onClose=_this$props4.onClose;var displayNudge=this.state.displayNudge;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"menu\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"menu-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"menu-header-text header-font\",children:loc('Locations',lang)}),this.renderLanguageSelect(),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"menu-close-button\",onClick:onClose,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon_Icon,{icon:\"close\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Accordion_Accordion,{children:this.renderGroups()}),displayNudge&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuNudge_MenuNudge,{text:loc('nudge_text',lang),closeText:loc('CLOSE',lang),onClose:this.onCloseNudge})]});}}]);return Menu;}(react[\"Component\"]);\n// EXTERNAL MODULE: ./src/app/ui/MenuButton.scss\nvar ui_MenuButton = __webpack_require__(32);\n\n// CONCATENATED MODULE: ./src/app/ui/MenuButton.tsx\nvar MenuButton_MenuButton=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(MenuButton,_Component);var _super=Object(createSuper[\"a\" /* default */])(MenuButton);function MenuButton(){Object(classCallCheck[\"a\" /* default */])(this,MenuButton);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(MenuButton,[{key:\"render\",value:function render(){var _this$props=this.props,text=_this$props.text,onClick=_this$props.onClick;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"menu-button-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:classnames_default()('menu-button',{'text-button':!!text}),onClick:onClick,children:text?text:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon_Icon,{icon:\"chevron-left\"})})});}}]);return MenuButton;}(react[\"Component\"]);\n// CONCATENATED MODULE: ./src/app/utils.ts\n/**\n * This module is for general helper interfaces, types, and methods.\n */ /**\n * Euclidean distance between two points.\n * @param {Vector3} p1 \n * @param {Vector3} p2 \n * @returns {number}\n */function distance(p1,p2){return Math.sqrt(Math.pow(p1.x-p2.x,2)+Math.pow(p1.y-p2.y,2)+Math.pow(p1.z-p2.z,2));}function sweepIdToPoint(id,sweepData){return sweepData[id].position;}/**\n * Returns a number clamped to the given range.\n * @param {number} num The number to clamp.\n * @param {number} min The lower bound of the range.\n * @param {number} max The upper bound of the range.\n */function clamp(num,min,max){return Math.min(Math.max(num,min),max);}\n// CONCATENATED MODULE: ./src/app/Pathfinder.ts\n/**\n * Path given by `findShortestPath` as list of sweep ids. It's a separate type\n * just in case the return type changes.\n */var Pathfinder_Pathfinder=/*#__PURE__*/function(){// penalize sweeps vertically separated by this distance, in meters\n// penalize sweeps horizontally separated by this distance, in meters\nfunction Pathfinder(sweepData){var _this=this;Object(classCallCheck[\"a\" /* default */])(this,Pathfinder);this.VERT_THRESHOLD=0.5;this.HORZ_THRESHOLD=10.0;this.graph={};this.path=[];this.sweepPositions={};// init sweepPositions\nsweepData.forEach(function(sweep){return _this.sweepPositions[sweep.sid]=sweep.position;});this.createGraph(sweepData);}/**\n   * Generate graph of sweep distances.\n   * @param {Sweep.SweepData[]} sweeps List of sweep data, such as `sdk.Model.getData().sweeps`\n   */Object(createClass[\"a\" /* default */])(Pathfinder,[{key:\"createGraph\",value:function createGraph(sweeps){var graph={};for(var i=0;i<sweeps.length;i++){var sweep_a=sweeps[i];var adj={};var neighbor_sids=sweep_a.neighbors;for(var j=0;j<neighbor_sids.length;j++){var sweep_b_sid=neighbor_sids[j];var d=distance(sweep_a.position,this.sweepPositions[sweep_b_sid]);adj[sweep_b_sid]=d;}graph[sweep_a.sid]=adj;}this.graph=graph;}/**\n   * Heuristic function for A*. Just take Euclidean distance.\n   */},{key:\"heuristic\",value:function heuristic(i_sid,j_sid){var sweepPositions=this.sweepPositions;return distance(sweepPositions[i_sid],sweepPositions[j_sid]);}/**\n   * Additional penalty to avoid large vertical/horizontal jumps.\n   */},{key:\"penalty\",value:function penalty(i_sid,j_sid){var sweepPositions=this.sweepPositions;return Math.pow((sweepPositions[i_sid].y-sweepPositions[j_sid].y)/this.VERT_THRESHOLD,4)+(Math.pow(sweepPositions[i_sid].x-sweepPositions[j_sid].x,2)+Math.pow(sweepPositions[i_sid].z-sweepPositions[j_sid].z,2))/this.HORZ_THRESHOLD;}/**\n   * Find shortest path between two sweeps connected by valid movements.\n   * @param {string} a_sid SID of starting sweep.\n   * @param {string} b_sid SID of ending sweep.\n   * @returns {SweepPath} Path from `a_sid` to `b_sid`.\n   */},{key:\"findShortestPath\",value:function(){var _findShortestPath=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(a_sid,b_sid){var graph,ht,debug_n,min_sid,encountered_sids,i,_sid,neighbor_sids,_i,_sid2,dist,cost,sid,path;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:graph=this.graph;// check SIDs are valid\nif(!(graph[a_sid]===undefined||graph[b_sid]===undefined)){_context.next=4;break;}console.error('Sweep SID(s) is invalid.');return _context.abrupt(\"return\");case 4:ht={};// hash table that stores the following info for each encountered sweep:\nht[a_sid]={visited:false,distance:0,cost:0,parent:null};// loop A* algorithm\ndebug_n=0;// count number of iterations\ncase 7:if(false){}debug_n+=1;// find unvisited sweep with minimum cost = distance + heuristic\n// TODO: optimize with priority queue\nmin_sid=void 0;encountered_sids=Object.keys(ht);for(i=0;i<encountered_sids.length;i++){_sid=encountered_sids[i];if(!ht[_sid].visited&&(min_sid===undefined||ht[_sid].cost<ht[min_sid].cost)){min_sid=_sid;}}if(!(min_sid===undefined)){_context.next=15;break;}console.error('Could not find path; sweeps are not connected.');return _context.abrupt(\"return\");case 15:if(!(min_sid===b_sid)){_context.next=17;break;}return _context.abrupt(\"break\",22);case 17:// add all neighbors of `min_sid`\nht[min_sid].visited=true;neighbor_sids=Object.keys(graph[min_sid]);for(_i=0;_i<neighbor_sids.length;_i++){_sid2=neighbor_sids[_i];dist=ht[min_sid].distance+graph[min_sid][_sid2];cost=dist+this.penalty(min_sid,_sid2)+this.heuristic(_sid2,b_sid);if(_sid2 in ht){// if sweep has been encountered\nif(!ht[_sid2].visited&&ht[_sid2].cost>cost){// if not visited and smaller cost, then update\nht[_sid2].parent=min_sid;ht[_sid2].distance=dist;ht[_sid2].cost=cost;}}else{// if sweep has not been encountered yet\nht[_sid2]={visited:false,distance:dist,cost:cost,parent:min_sid};}}_context.next=7;break;case 22:console.log(\"Pathfind iterations: \".concat(debug_n));// traverse graph back to starting point\nsid=b_sid;path=[sid];while(ht[sid].parent!==null){sid=ht[sid].parent;path.push(sid);}path.reverse();return _context.abrupt(\"return\",path);case 28:case\"end\":return _context.stop();}}},_callee,this);}));function findShortestPath(_x,_x2){return _findShortestPath.apply(this,arguments);}return findShortestPath;}()}]);return Pathfinder;}();\n// CONCATENATED MODULE: ./src/app/Translator.ts\nvar Translator_Translator=/*#__PURE__*/function(){function Translator(lang){Object(classCallCheck[\"a\" /* default */])(this,Translator);this.url=\"https://api-free.deepl.com/v2/translate\";this.key=\"1fa4cd0a-7872-2cc0-e6e3-e96c6587ca62:fx\";this.url+=\"?auth_key=\".concat(this.key,\"&target_lang=\").concat(lang);}/**\n   * Smoketest for DeepL HTTP requests\n   */ // public testQuery(): boolean {\n//   const xhr = new XMLHttpRequest();\n//   let query = this.url + `&text=`;\n//   xhr.open(\"GET\", query, false); // synchronous request\n//   xhr.send(); \n//   let status = xhr.status;\n//   return status === 0 || (status >= 200 && status < 400);\n// }\nObject(createClass[\"a\" /* default */])(Translator,[{key:\"checkUsage\",value:function checkUsage(){var xhr=new XMLHttpRequest();xhr.open(\"GET\",\"https://api-free.deepl.com/v2/usage?auth_key=\".concat(this.key));xhr.onload=function(){if(xhr.readyState===4){var status=xhr.status;if(status===0||status>=200&&status<400){console.log(\"DeepL Usage:\",xhr.responseText);}else{console.error(\"Usage retrieval failed.\");}}};xhr.send();}/**\n   * Translate using DeepL via HTTP request\n   * @param texts List of strings to translate\n   * @param callBack Callback handling translated strings\n   */},{key:\"translate\",value:function translate(texts,callBack){var _this=this;var xhr=new XMLHttpRequest();var query=this.url;for(var i=0;i<texts.length;i++){query+=\"&text=\".concat(texts[i]);}xhr.open(\"GET\",query);xhr.onload=function(){if(xhr.readyState===4){var status=xhr.status;if(status===0||status>=200&&status<400){var json=xhr.responseText;callBack(_this.parse(json));}else{console.error(\"Translation failed.\");}}};xhr.send();}/**\n   * Parse the JSON received from DeepL. Returns translated texts, as a list.\n   */},{key:\"parse\",value:function parse(json){var obj=JSON.parse(json);var transTexts=[];for(var i=0;i<obj.translations.length;i++){transTexts.push(obj.translations[i].text);}return transTexts;}}]);return Translator;}();\n// CONCATENATED MODULE: ./src/app/sdk-components/PathRenderer.ts\nvar PathRenderer_PathRenderer=function PathRenderer(){var _this=this;Object(classCallCheck[\"a\" /* default */])(this,PathRenderer);this.material=void 0;this.inputs={visible:false,path:[],// positions on path\nradius:0.15,color:0xff3158,opacity:0.5,heightOffset:-1.1,stepMultiplier:5};this.context=void 0;this.outputs={curve:null,distance:0};this.onInit=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var THREE,_this$inputs,path,radius,heightOffset,opacity,color,stepMultiplier,d,points,spline,extrudeSettings,arcShape,extrudeGeometry,pathMesh;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:THREE=_this.context.three;_this$inputs=_this.inputs,path=_this$inputs.path,radius=_this$inputs.radius,heightOffset=_this$inputs.heightOffset,opacity=_this$inputs.opacity,color=_this$inputs.color,stepMultiplier=_this$inputs.stepMultiplier;// check if path is long enough and no undefined points\nif(!(path.length<2||!path.every(function(p){return!!p;}))){_context.next=4;break;}return _context.abrupt(\"return\");case 4:d=0;points=path.map(function(p,i){if(i>0){d+=distance(path[i-1],p);}return new THREE.Vector3(p.x,p.y+heightOffset,p.z);});spline=new THREE.CatmullRomCurve3(points);extrudeSettings={steps:stepMultiplier*path.length,bevelEnabled:false,extrudePath:spline};// Shape to extrude\narcShape=new THREE.Shape().absarc(0,0,radius,0,Math.PI*2,false);extrudeGeometry=new THREE.ExtrudeGeometry(arcShape,extrudeSettings);_this.material=new THREE.MeshBasicMaterial({color:color,transparent:true,opacity:opacity});pathMesh=new THREE.Mesh(extrudeGeometry,_this.material);_this.outputs.objectRoot=pathMesh;_this.outputs.curve=spline;_this.outputs.distance=d;case 15:case\"end\":return _context.stop();}}},_callee);}));this.onEvent=function(_type,_data){};this.onInputsUpdated=function(_previous){};this.onTick=function(_tickDelta){};this.onDestroy=function(){var _this$material;(_this$material=_this.material)===null||_this$material===void 0?void 0:_this$material.dispose();};};var pathRendererType='sdk-component.pathRenderer';function PathRendererFactory(){return new PathRenderer_PathRenderer();}\n// CONCATENATED MODULE: ./src/app/sdk-components/CameraController.ts\nvar CameraController_CameraController=/*#__PURE__*/function(){function CameraController(){var _this=this;Object(classCallCheck[\"a\" /* default */])(this,CameraController);this.u=0;this.length=0;this.up=void 0;this.inputs={curve:null,// THREE.Curve object\nspeed:1.5,// speed in meters per second\nverticalOffset:1.,// vertical offset from curve\nenabled:false,// true to move forward automatically, false to pause\nchangeUCallback:function changeUCallback(u){return null;}// callback eahc time u changes\n};this.outputs={camera:null};this.context=void 0;this.onInit=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var curve,THREE,camera;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:curve=_this.inputs.curve;THREE=_this.context.three;camera=new THREE.PerspectiveCamera(45,1.333,1,1000);_this.outputs.camera=camera;_this.length=curve.getLength()-1;_this.up=new THREE.Vector3(0,1,0);case 6:case\"end\":return _context.stop();}}},_callee);}));this.onTick=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(tickDelta){var _this$inputs,speed,enabled,_u,_this$getPoseAt,position,rotation;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$inputs=_this.inputs,speed=_this$inputs.speed,enabled=_this$inputs.enabled;if(enabled){_this.u=clamp(_this.u+speed*(tickDelta/1000)/_this.length,0,1);_u=_this.u;_this$getPoseAt=_this.getPoseAt(_u),position=_this$getPoseAt.position,rotation=_this$getPoseAt.rotation;_this.setCamera(position,rotation);_this.inputs.changeUCallback(_u);}case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();this.onDestroy=function(){};}Object(createClass[\"a\" /* default */])(CameraController,[{key:\"getPoseAt\",value:/**\n   * Given u along curve, return position and rotation for camera.\n   */function getPoseAt(u){var _this$inputs2=this.inputs,curve=_this$inputs2.curve,speed=_this$inputs2.speed,verticalOffset=_this$inputs2.verticalOffset;var THREE=this.context.three;// position\nvar uPast=Math.max(u-0.1*speed/this.length,0);// 0.1 second in past\nvar uFuture=Math.min(u+speed/this.length,1);// 1 second in the future\nvar position=curve.getPointAt(u);position.y+=verticalOffset;// add vertical offset;\nvar positionPast=curve.getPointAt(uPast);var positionFuture=curve.getPointAt(uFuture);// rotation\nvar matrix=new THREE.Matrix4().lookAt(positionPast,positionFuture,this.up);var rotation=new THREE.Euler().setFromRotationMatrix(matrix,\"YXZ\");return{position:position,rotation:rotation};}/**\n   * Set camera pose.\n   */},{key:\"setCamera\",value:function setCamera(position,rotation){var camera=this.outputs.camera;camera.position.copy(position);camera.rotation.copy(rotation);camera.updateProjectionMatrix();}/**\n   * Manually set u for camera.\n   */},{key:\"setU\",value:function setU(u){this.u=u;var _this$getPoseAt2=this.getPoseAt(u),position=_this$getPoseAt2.position,rotation=_this$getPoseAt2.rotation;this.setCamera(position,rotation);this.inputs.changeUCallback(u);}// --- IComponent methods ----------------------------------------------------\n}]);return CameraController;}();var cameraControllerType='sdk-component.cameraController';function CameraControllerFactory(){return new CameraController_CameraController();}\n// CONCATENATED MODULE: ./src/app/sdk-components/index.ts\n/**\n * Registers all SDK Scene components.\n * @param {MpSdk} sdk\n */var initComponents=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(sdk){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Promise.all([sdk.Scene.register(pathRendererType,PathRendererFactory),sdk.Scene.register(cameraControllerType,CameraControllerFactory)]);case 2:case\"end\":return _context.stop();}}},_callee);}));return function initComponents(_x){return _ref.apply(this,arguments);};}();\n// CONCATENATED MODULE: ./src/app/sweepAliases.ts\nvar robinsonHall={\"36642185cf3f481897967d749003d683\":\"Great Hall\",\"e282bc9e7ae94a58aa624c4679e71946\":\"105\",\"03dbddfa78074195ad605033e1a5ea88\":\"106\",\"ecf49427817f4ad2a18971bd836f577a\":\"107\",\"233c8a90b0d44803b451cc18c2beb2ac\":\"125: History Department Conference Room\",\"7f3f51d4c0b9448f9e5c78a9882fe912\":\"222\",\"5c19c240375d4d04a6c9ca790a35fa02\":\"223\",\"c2096fe91b2543f78ca9d95070e78e63\":\"225: History Department Graduate Lounge\",\"1b11bb808949421ba32142f4c48b9823\":\"B21: Warren Center Conference Room\"};var scu={\"6d80bf2d4e71453aa0134fc61c2d8102\":\"Entrance\",\"ff56dea1f04c4ab08d2121d805cf9be2\":\"Sports Performance Center\",\"857ceb1a450d46099b6b9c66f81bd644\":\"Sobrato Gymnasium\",\"8ddd9373572b4ae7a6c7063a9dacdc3b\":\"Rambis Family Gymnasium\",\"cadbfa305b77449c8a5907fc2b9d1d0e\":\"Stevens Academic Center\",\"6c67c4e49ee440ad9895872922a12a32\":\"Sports Medicine Center\"};var sweepAliases={\"GycExKiYVFp\":robinsonHall,\"JYz9SNonEqa\":scu};\n// EXTERNAL MODULE: ./src/app/ui/overlay/ControlsOverlay.scss\nvar overlay_ControlsOverlay = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./src/app/ui/overlay/ProgressBar.scss\nvar overlay_ProgressBar = __webpack_require__(34);\n\n// CONCATENATED MODULE: ./src/app/ui/overlay/ProgressBar.tsx\nvar PROGRESS_BAR_THUMB_SIZE='14px';var ProgressBar_ProgressBar=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(ProgressBar,_Component);var _super=Object(createSuper[\"a\" /* default */])(ProgressBar);function ProgressBar(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,ProgressBar);_this=_super.call(this,props);_this.abortController=new AbortController();_this.trackRef=/*#__PURE__*/react_default.a.createRef();_this.onMouseDown=function(e){var _this$props=_this.props,onMouseDown=_this$props.onMouseDown,onChange=_this$props.onChange;var ev=e;if(ev.button!==0)return;var value=_this.calculate(ev.clientX);onMouseDown===null||onMouseDown===void 0?void 0:onMouseDown(value);onChange===null||onChange===void 0?void 0:onChange(value);_this.setState({value:value,mouseDown:true});};_this.onMouseUp=function(e){var onMouseUp=_this.props.onMouseUp;var _this$state=_this.state,value=_this$state.value,mouseDown=_this$state.mouseDown;var ev=e;if(ev.button!==0)return;if(mouseDown){onMouseUp===null||onMouseUp===void 0?void 0:onMouseUp(value);}_this.setState({mouseDown:false});};_this.onMouseMove=function(e){var _this$props2=_this.props,scrub=_this$props2.scrub,onChange=_this$props2.onChange;var mouseDown=_this.state.mouseDown;if(!scrub||!mouseDown)return;var ev=e;var value=_this.calculate(ev.clientX);_this.setState({value:value},function(){return onChange===null||onChange===void 0?void 0:onChange(value);});};var initValue=props.initValue;_this.state={value:initValue||0,mouseDown:false};return _this;}Object(createClass[\"a\" /* default */])(ProgressBar,[{key:\"componentDidMount\",value:function componentDidMount(){window.addEventListener('mouseup',this.onMouseUp,{signal:this.abortController.signal});window.addEventListener('mousemove',this.onMouseMove,{signal:this.abortController.signal});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.abortController.abort();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevProps.overrideValue!==prevState.value&&this.props.overrideValue){this.setState({value:this.props.overrideValue});}}/**\n   * Calculates value of progress bar from mouse position.\n   * @param mx Mouse X position.\n   * @returns Clamped value based on min/max, or current value iff ref is undefined.\n   */},{key:\"calculate\",value:function calculate(mx){var _this$props3=this.props,min=_this$props3.min,max=_this$props3.max;var value=this.state.value;var track=this.trackRef.current;if(!track)return value;var rect=track.getBoundingClientRect();var dx=mx-rect.left;var total=rect.right-rect.left;var frac=dx/total;var range=max-min;return clamp(frac*range,min,max);}},{key:\"render\",value:function render(){var _this$props4=this.props,min=_this$props4.min,max=_this$props4.max,overrideValue=_this$props4.overrideValue,noThumb=_this$props4.noThumb;var _this$state2=this.state,value=_this$state2.value,mouseDown=_this$state2.mouseDown;var frac=(overrideValue||value)/(max-min);var percent=frac*100;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"progress-bar-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"progress-bar-track-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"progress-bar-track\",onMouseDown:this.onMouseDown,ref:this.trackRef,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"progress-bar-progress\",style:{width:\"\".concat(percent,\"%\")}})})}),!noThumb&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"progress-bar-thumb\",style:{width:PROGRESS_BAR_THUMB_SIZE,height:PROGRESS_BAR_THUMB_SIZE,left:\"calc(\".concat(percent,\"% - (\").concat(PROGRESS_BAR_THUMB_SIZE,\"/2))\")},onMouseDown:this.onMouseDown}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"pointer-event-overlay\",style:{position:'fixed',inset:'0',pointerEvents:'all',display:mouseDown?'block':'none'}})]});}}]);return ProgressBar;}(react[\"Component\"]);\n// CONCATENATED MODULE: ./src/app/ui/overlay/ControlsOverlay.tsx\nvar ControlsOverlay_ControlsOverlay=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(ControlsOverlay,_Component);var _super=Object(createSuper[\"a\" /* default */])(ControlsOverlay);function ControlsOverlay(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,ControlsOverlay);_this=_super.call(this,props);_this.onScrubMouseDown=function(){_this.props.onPause();};_this.onScrubMouseUp=function(){if(_this.state.rememberPlayState){_this.props.onPlay();}};_this.togglePlay=function(){var _this$props=_this.props,playing=_this$props.playing,onPlay=_this$props.onPlay,onPause=_this$props.onPause;playing?onPause():onPlay();_this.setState({rememberPlayState:!playing});};_this.state={rememberPlayState:true};return _this;}Object(createClass[\"a\" /* default */])(ControlsOverlay,[{key:\"render\",value:function render(){var _this$props2=this.props,playing=_this$props2.playing,onExit=_this$props2.onExit,setU=_this$props2.setU,u=_this$props2.u;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"controls-overlay-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"controls-overlay\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ProgressBar_ProgressBar,{min:0,max:1,scrub:true,onChange:setU,onMouseDown:this.onScrubMouseDown,onMouseUp:this.onScrubMouseUp,overrideValue:u}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"control-button-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"control-button play-button\",onClick:this.togglePlay,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon_Icon,{icon:playing?'showcase-pause-lg':'showcase-play-lg',classes:\"play-pause-button\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"control-button exit-button\",onClick:onExit,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon_Icon,{icon:\"close\"})})]})]})});}}]);return ControlsOverlay;}(react[\"Component\"]);\n// EXTERNAL MODULE: ./src/app/ui/overlay/FlyModeButton.scss\nvar overlay_FlyModeButton = __webpack_require__(35);\n\n// CONCATENATED MODULE: ./src/app/ui/overlay/FlyModeButton.tsx\nvar FlyModeButton_FlyModeButton=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(FlyModeButton,_Component);var _super=Object(createSuper[\"a\" /* default */])(FlyModeButton);function FlyModeButton(){Object(classCallCheck[\"a\" /* default */])(this,FlyModeButton);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(FlyModeButton,[{key:\"render\",value:function render(){var _this$props=this.props,lang=_this$props.lang,onClick=_this$props.onClick;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flymode-button-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"flymode-button\",onClick:onClick,children:loc('Fly Mode',lang)})});}}]);return FlyModeButton;}(react[\"Component\"]);\n// EXTERNAL MODULE: ./src/app/reusables/icon-button/IconButton.scss\nvar icon_button_IconButton = __webpack_require__(36);\n\n// CONCATENATED MODULE: ./src/app/reusables/icon-button/IconButton.tsx\nvar IconButton_IconButton=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(IconButton,_Component);var _super=Object(createSuper[\"a\" /* default */])(IconButton);function IconButton(){Object(classCallCheck[\"a\" /* default */])(this,IconButton);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(IconButton,[{key:\"render\",value:function render(){var _this$props=this.props,onClick=_this$props.onClick,icon=_this$props.icon,classes=_this$props.classes;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:classnames_default()('icon-button-container',classes),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"icon-button\",onClick:onClick,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon_Icon,{icon:icon})})});}}]);return IconButton;}(react[\"Component\"]);\n// CONCATENATED MODULE: ./src/app/App.tsx\nvar defaultUrlParams={m:'31o95DVF7cY',applicationKey:'x67cy2qhc1h8f1nkmh1ax3i6c',title:'0',qs:'1',hr:'0',brand:'0',help:'0',play:'1'};/**\n * This is the top level class for the app. It handles API key, model ID, and url stuff,\n * and holds references to objects/modules/components for object composition.\n * Do non-initializing SDK and UI stuff in other components/files.\n */var App_App=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(App,_Component);var _super=Object(createSuper[\"a\" /* default */])(App);// the url source for the sdk\n// the node for the PathRenderer component\n// human-readable alias for sweeps, if available\n// the node for the CameraController component\n// CameraConroller component\nfunction App(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,App);_this=_super.call(this,props);_this.src=void 0;_this.urlLang=null;_this.sdk=void 0;_this.pathNode=void 0;_this.pathfinder=void 0;_this.sweepAlias=void 0;_this.flyNode=void 0;_this.camCon=void 0;_this.onOptionSelect=function(id){if(id===_this.state.selectedSweepId){_this.clearSelection();}else{_this.setState({selectedSweepId:id});}};_this.clearSelection=function(){if(_this.pathNode)_this.pathNode.stop();_this.setState({path:undefined,selectedSweepId:undefined});};_this.toggleFlyMode=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var flyModeEnabled;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:flyModeEnabled=_this.state.flyModeEnabled;_this.setState({flyModeEnabled:!flyModeEnabled,flyU:0},/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!flyModeEnabled){_context.next=5;break;}_context.next=3;return _this.exitFly();case 3:_context.next=7;break;case 5:_context.next=7;return _this.initFly();case 7:case\"end\":return _context.stop();}}},_callee);})));case 2:case\"end\":return _context2.stop();}}},_callee2);}));_this.initFly=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var _assertThisInitialize,sdk,path,cam,_this$camCon$getPoseA,position,rotation;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_assertThisInitialize=Object(assertThisInitialized[\"a\" /* default */])(_this),sdk=_assertThisInitialize.sdk;path=_this.state.path;if(!(sdk&&path)){_context3.next=17;break;}if(_this.flyNode)_this.flyNode.stop();_context3.next=6;return sdk.Scene.createNode();case 6:_this.flyNode=_context3.sent;_this.camCon=_this.flyNode.addComponent(cameraControllerType,{changeUCallback:function changeUCallback(u){return _this.setState({flyU:u});}});cam=_this.flyNode.addComponent('mp.camera',{enabled:true});_this.camCon.bind('curve',path,'curve');cam.bind('camera',_this.camCon,'camera');_this.flyNode.start();// orient camera to start of flythrough\n_this$camCon$getPoseA=_this.camCon.getPoseAt(0),position=_this$camCon$getPoseA.position,rotation=_this$camCon$getPoseA.rotation;_context3.next=15;return sdk.Mode.moveTo(sdk.Mode.Mode.DOLLHOUSE,{position:position,rotation:{x:rotation.x*180/Math.PI,y:rotation.y*180/Math.PI}});case 15:// start flythough\n_this.setState({flyU:0});_this.playFly();case 17:case\"end\":return _context3.stop();}}},_callee3);}));_this.exitFly=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(){var _assertThisInitialize2,sdk,flyNode;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_assertThisInitialize2=Object(assertThisInitialized[\"a\" /* default */])(_this),sdk=_assertThisInitialize2.sdk,flyNode=_assertThisInitialize2.flyNode;if(flyNode)flyNode.stop();if(sdk)sdk.Mode.moveTo(sdk.Mode.Mode.INSIDE);_this.setState({flyModePlaying:false});case 4:case\"end\":return _context4.stop();}}},_callee4);}));_this.playFly=function(){if(_this.camCon)_this.camCon.inputs.enabled=true;_this.setState({flyModePlaying:true});};_this.pauseFly=function(){if(_this.camCon)_this.camCon.inputs.enabled=false;_this.setState({flyModePlaying:false});};_this.setFlyU=function(u){if(_this.camCon)_this.camCon.setU(u);};_this.toggleMenu=function(){_this.setState({menuEnabled:!_this.state.menuEnabled});};var queryString=_this.handleUrlParams();_this.src=\"\".concat(\"/sdk_wayfinder\",\"/bundle/showcase.html?\").concat(queryString);_this.state={lang:_this.urlLang?_this.urlLang:'en',sweepData:[],menuEnabled:true,flyModeEnabled:false,flyU:0,flyModePlaying:false};return _this;}/**\n   * Parses the current url params and combines them with the default params, updating when necessary.\n   * @returns url param query string (without `?`), ready to be pasted directly into the url\n   */Object(createClass[\"a\" /* default */])(App,[{key:\"handleUrlParams\",value:function handleUrlParams(){var params=new URLSearchParams(window.location.search);this.urlLang=params.get('lang');for(var _i=0,_Object$entries=Object.entries(defaultUrlParams);_i<_Object$entries.length;_i++){var _Object$entries$_i=Object(slicedToArray[\"a\" /* default */])(_Object$entries[_i],2),k=_Object$entries$_i[0],v=_Object$entries$_i[1];if(!params.has(k)){params.append(k,''+v);// convert v to string\n}}return params.toString();}// --- React methods ---------------------------------------------------------\n},{key:\"componentDidMount\",value:function(){var _componentDidMount=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee6(){var _this2=this;var lang;return regenerator_default.a.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return GetSDK_GetSDK('showcase',defaultUrlParams.applicationKey);case 2:this.sdk=_context6.sent;_context6.next=5;return initComponents(this.sdk);case 5:_context6.next=7;return this.sdk.Model.getData().then(/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(data){var _this2$sdk,mattertags;return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!(data.sid==='GycExKiYVFp')){_context5.next=5;break;}mattertags=[];mattertags.push({label:\"Revitalizing the Great Hall\",description:\"Within the building’s Great Hall, new vestibule spaces were created to \"+\"connect the main circulation corridor to new restrooms. Elevator lobbies and \"+\"office suite entrances were treated as extensions of the original McKim design, \"+\"with matching marble flooring and wall base, and stained oak millwork-encased \"+\"openings.\",anchorPosition:{x:16.55,y:1.28-1.5,z:6.69},stemVector:{x:0,y:1,z:0}});_context5.next=5;return(_this2$sdk=_this2.sdk)===null||_this2$sdk===void 0?void 0:_this2$sdk.Mattertag.add(mattertags);case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x){return _ref5.apply(this,arguments);};}());case 7:// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nlang=this.state.lang;_context6.next=10;return this.sdk.Model.getData().then(function(data){var sweepData=data.sweeps;_this2.pathfinder=new Pathfinder_Pathfinder(sweepData);_this2.setState({sweepData:sweepData});_this2.sweepAlias=sweepAliases[data.sid];});case 10:this.sdk.Sweep.data.subscribe({onCollectionUpdated:function onCollectionUpdated(collection){_this2.setState({sweepMap:collection});}});this.sdk.Floor.data.subscribe({onCollectionUpdated:function onCollectionUpdated(collection){_this2.setState({floorMap:collection});}});this.sdk.Sweep.current.subscribe(function(currentSweep){if(currentSweep.sid){console.log(currentSweep.sid,currentSweep.position);_this2.setState({currSweepId:currentSweep.sid});}});// translate all mattertags, if not English\nif(lang!=='en')this.translateMattertags(lang);case 14:case\"end\":return _context6.stop();}}},_callee6,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"componentDidUpdate\",value:function componentDidUpdate(_prevProps,prevState){var _this$state=this.state,currSweepId=_this$state.currSweepId,selectedSweepId=_this$state.selectedSweepId;// only update path if sweep state changes\n(currSweepId!==prevState.currSweepId||selectedSweepId!==prevState.selectedSweepId)&&this.handlePath();}// --- SDK methods -----------------------------------------------------------\n},{key:\"handlePath\",value:function(){var _handlePath=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee7(){var _this$state2,currSweepId,selectedSweepId,sweepMap,sdk,pathfinder,path;return regenerator_default.a.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_this$state2=this.state,currSweepId=_this$state2.currSweepId,selectedSweepId=_this$state2.selectedSweepId,sweepMap=_this$state2.sweepMap;sdk=this.sdk,pathfinder=this.pathfinder;if(!(sdk&&sweepMap&&currSweepId&&selectedSweepId&&pathfinder)){_context7.next=14;break;}_context7.next=5;return pathfinder.findShortestPath(currSweepId,selectedSweepId);case 5:path=_context7.sent;if(path){_context7.next=8;break;}return _context7.abrupt(\"return\");case 8:if(this.pathNode)this.pathNode.stop();_context7.next=11;return sdk.Scene.createNode();case 11:this.pathNode=_context7.sent;this.setState({path:path.length>1?this.pathNode.addComponent(pathRendererType,{path:path.map(function(id){return sweepIdToPoint(id,sweepMap);}),opacity:0.7,radius:0.12,stepMultiplier:10}):undefined});this.pathNode.start();case 14:case\"end\":return _context7.stop();}}},_callee7,this);}));function handlePath(){return _handlePath.apply(this,arguments);}return handlePath;}()},{key:\"translateMattertags\",value:function(){var _translateMattertags=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee8(lang){var sdk,Trans,mattertagData,_loop,i;return regenerator_default.a.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:sdk=this.sdk;if(!(sdk&&lang)){_context8.next=9;break;}Trans=new Translator_Translator(lang);_context8.next=5;return sdk.Mattertag.getData();case 5:mattertagData=_context8.sent;_loop=function _loop(i){var _mattertagData$i=mattertagData[i],sid=_mattertagData$i.sid,label=_mattertagData$i.label,description=_mattertagData$i.description,media=_mattertagData$i.media;var callBack=function callBack(newTexts){var _newTexts=Object(slicedToArray[\"a\" /* default */])(newTexts,2),newLabel=_newTexts[0],newDescription=_newTexts[1];sdk.Mattertag.editBillboard(sid,{label:newLabel,description:newDescription,media:media});};Trans.translate([label,description],callBack);};for(i=0;i<mattertagData.length;i++){_loop(i);}Trans.checkUsage();case 9:case\"end\":return _context8.stop();}}},_callee8,this);}));function translateMattertags(_x2){return _translateMattertags.apply(this,arguments);}return translateMattertags;}()},{key:\"changeLang\",value:function(){var _changeLang=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee9(lang){return regenerator_default.a.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:this.setState({lang:lang});this.translateMattertags(lang);case 2:case\"end\":return _context9.stop();}}},_callee9,this);}));function changeLang(_x3){return _changeLang.apply(this,arguments);}return changeLang;}()// --- Render ----------------------------------------------------------------\n},{key:\"render\",value:function render(){var _this3=this;var _this$state3=this.state,lang=_this$state3.lang,currSweepId=_this$state3.currSweepId,selectedSweepId=_this$state3.selectedSweepId,sweepData=_this$state3.sweepData,menuEnabled=_this$state3.menuEnabled,flyModeEnabled=_this$state3.flyModeEnabled,flyU=_this$state3.flyU,path=_this$state3.path,flyModePlaying=_this$state3.flyModePlaying,floorMap=_this$state3.floorMap;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"frame-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Frame_Frame,{src:this.src,disableClicks:flyModeEnabled}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"overlay-container\",children:path&&(flyModeEnabled?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ControlsOverlay_ControlsOverlay,{playing:flyModePlaying,onPlay:this.playFly,onPause:this.pauseFly,onExit:this.toggleFlyMode,setU:this.setFlyU,u:flyU}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"nofly-button-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FlyModeButton_FlyModeButton,{lang:lang,onClick:this.toggleFlyMode}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton_IconButton,{onClick:this.clearSelection,icon:\"close\",classes:['clear-button']})]}))})]}),!menuEnabled&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuButton_MenuButton,{onClick:this.toggleMenu}),menuEnabled&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Menu_Menu,{lang:lang,currSweepId:currSweepId,selectedSweepId:selectedSweepId,sweepData:sweepData,sweepAlias:this.sweepAlias,floorMap:floorMap,onChange:this.onOptionSelect,onClose:this.toggleMenu,onChangeLang:function onChangeLang(e){return _this3.changeLang(e.target.value);}})]});}}]);return App;}(react[\"Component\"]);\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_App,{})}),document.getElementById('root'));\n\n/***/ })\n]),[[37,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/postcss-loader/src/index.js??postcss!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/sallen/Documents/GitHub/sdk_wayfinder/src/index.scss","/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/postcss-loader/src/index.js??postcss!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/App.scss","/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/postcss-loader/src/index.js??postcss!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/Frame.scss","/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/postcss-loader/src/index.js??postcss!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/ui/Menu.scss","/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/postcss-loader/src/index.js??postcss!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/reusables/accordion/Accordion.scss","/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/postcss-loader/src/index.js??postcss!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/reusables/accordion/AccordionGroup.scss","/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/postcss-loader/src/index.js??postcss!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/reusables/accordion/AccordionItem.scss","/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/postcss-loader/src/index.js??postcss!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/reusables/icon/Icon.scss","/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/postcss-loader/src/index.js??postcss!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/ui/MenuNudge.scss","/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/postcss-loader/src/index.js??postcss!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/ui/MenuButton.scss","/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/postcss-loader/src/index.js??postcss!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/ui/overlay/ControlsOverlay.scss","/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/postcss-loader/src/index.js??postcss!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/ui/overlay/ProgressBar.scss","/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/postcss-loader/src/index.js??postcss!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/ui/overlay/FlyModeButton.scss","/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/postcss-loader/src/index.js??postcss!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/sallen/Documents/GitHub/sdk_wayfinder/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/reusables/icon-button/IconButton.scss","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/mp/GetSDK.ts","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/Frame.tsx","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/reusables/accordion/Accordion.tsx","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/reusables/accordion/AccordionItem.tsx","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/reusables/icon/Icon.tsx","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/reusables/accordion/AccordionGroup.tsx","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/ui/MenuNudge.tsx","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/Localization.ts","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/ui/Menu.tsx","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/ui/MenuButton.tsx","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/utils.ts","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/Pathfinder.ts","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/Translator.ts","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/sdk-components/PathRenderer.ts","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/sdk-components/CameraController.ts","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/sdk-components/index.ts","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/sweepAliases.ts","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/ui/overlay/ProgressBar.tsx","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/ui/overlay/ControlsOverlay.tsx","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/ui/overlay/FlyModeButton.tsx","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/reusables/icon-button/IconButton.tsx","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/app/App.tsx","/Users/sallen/Documents/GitHub/sdk_wayfinder/src/index.tsx"],"names":["SDK_VERSION","GetSDK","elementId","applicationKey","Promise","resolve","reject","checkIframe","iframe","HTMLIFrameElement","document","getElementById","contentWindow","sdkWindow","MP_SDK","clearInterval","intervalId","sdk","connect","setInterval","Frame","props","src","id","customRef","children","disableClicks","pointerEvents","undefined","Component","Accordion","header","ACCORDION_ITEM_HEIGHT","AccordionItem","body","selected","onClick","classNames","height","Icon","icon","classes","classArray","Array","isArray","AccordionGroup","state","expanded","showChildren","setState","setTimeout","showNumber","numChildren","length","hasChildren","contentHeight","MenuNudge","opacity","text","closeText","onClose","LanguageOptions","EN","code","ES","FR","DE","RU","ZH","JA","NL","IT","PT","table","loc","key","lang","MENU_NUDGE_TIMEOUT","MENU_NUDGE_SEEN_KEY","Menu","onCloseNudge","sessionStorage","setItem","displayNudge","sweepGroups","nudgeSeen","getItem","window","sweepData","sweepAlias","groups","s","sid","floor","push","onChange","selectedSweepId","name","floorMap","getGroups","floors","selectedFloor","Object","entries","sweeps","items","renderItem","floorName","floorSequence","sequence","langOptions","values","marginLeft","onChangeLang","renderLanguageSelect","renderGroups","MenuButton","distance","p1","p2","Math","sqrt","x","y","z","sweepIdToPoint","position","clamp","num","min","max","Pathfinder","VERT_THRESHOLD","HORZ_THRESHOLD","graph","path","sweepPositions","forEach","sweep","createGraph","i","sweep_a","adj","neighbor_sids","neighbors","j","sweep_b_sid","d","i_sid","j_sid","a_sid","b_sid","console","error","ht","visited","cost","parent","debug_n","min_sid","encountered_sids","keys","dist","penalty","heuristic","log","reverse","Translator","url","xhr","XMLHttpRequest","open","onload","readyState","status","responseText","send","texts","callBack","query","json","parse","obj","JSON","transTexts","translations","PathRenderer","material","inputs","visible","radius","color","heightOffset","stepMultiplier","context","outputs","curve","onInit","THREE","three","every","p","points","map","Vector3","spline","CatmullRomCurve3","extrudeSettings","steps","bevelEnabled","extrudePath","arcShape","Shape","absarc","PI","extrudeGeometry","ExtrudeGeometry","MeshBasicMaterial","transparent","pathMesh","Mesh","objectRoot","onEvent","_type","_data","onInputsUpdated","_previous","onTick","_tickDelta","onDestroy","dispose","pathRendererType","PathRendererFactory","CameraController","u","up","speed","verticalOffset","enabled","changeUCallback","camera","PerspectiveCamera","getLength","tickDelta","getPoseAt","rotation","setCamera","uPast","uFuture","getPointAt","positionPast","positionFuture","matrix","Matrix4","lookAt","Euler","setFromRotationMatrix","copy","updateProjectionMatrix","cameraControllerType","CameraControllerFactory","initComponents","all","Scene","register","robinsonHall","scu","sweepAliases","PROGRESS_BAR_THUMB_SIZE","ProgressBar","abortController","AbortController","trackRef","React","createRef","onMouseDown","e","ev","button","value","calculate","clientX","mouseDown","onMouseUp","onMouseMove","scrub","initValue","addEventListener","signal","abort","prevProps","prevState","overrideValue","mx","track","current","rect","getBoundingClientRect","dx","left","total","right","frac","range","noThumb","percent","width","inset","display","ControlsOverlay","onScrubMouseDown","onPause","onScrubMouseUp","rememberPlayState","onPlay","togglePlay","playing","onExit","setU","FlyModeButton","IconButton","defaultUrlParams","m","title","qs","hr","brand","help","play","App","urlLang","pathNode","pathfinder","flyNode","camCon","onOptionSelect","clearSelection","stop","toggleFlyMode","flyModeEnabled","flyU","exitFly","initFly","createNode","addComponent","cam","bind","start","Mode","moveTo","DOLLHOUSE","playFly","INSIDE","flyModePlaying","pauseFly","setFlyU","toggleMenu","menuEnabled","queryString","handleUrlParams","process","params","URLSearchParams","location","search","get","k","v","has","append","toString","Model","getData","then","data","mattertags","label","description","anchorPosition","stemVector","Mattertag","add","Sweep","subscribe","onCollectionUpdated","collection","sweepMap","Floor","currentSweep","currSweepId","translateMattertags","_prevProps","handlePath","findShortestPath","Trans","mattertagData","media","newTexts","newLabel","newDescription","editBillboard","translate","checkUsage","changeLang","target","ReactDOM","render"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import { MpSdk, ShowcaseEmbedWindow } from './sdk';\n\nconst SDK_VERSION = '3.2';\n\n/**\n * Gets a reference to the SDK. Use this if you want to do SDK stuff.\n * @param {string | HTMLIFrameElement} elementId ID of the iframe or the iframe element itself\n * @param {string} applicationKey Your API key \n * @returns Promise of MpSdk reference\n */\nexport const GetSDK = function(elementId: string | HTMLIFrameElement, applicationKey: string): Promise<MpSdk> {\n  return new Promise(function(resolve, reject) {\n    const checkIframe = async function() {\n      let iframe = null;\n      if (elementId instanceof HTMLIFrameElement) {\n        iframe = elementId as HTMLIFrameElement;\n      }\n      else {\n        iframe = document.getElementById(elementId) as HTMLIFrameElement;\n      }\n\n      if (iframe) {\n        // sometimes this is undefined for some reason, so check for it\n        const sdkWindow = (await iframe.contentWindow as ShowcaseEmbedWindow).MP_SDK;\n        if (sdkWindow) {\n          clearInterval(intervalId);\n          const sdk = sdkWindow.connect(iframe, applicationKey, SDK_VERSION);\n          resolve(sdk);\n        }\n      }\n    };\n    const intervalId = setInterval(checkIframe, 100);\n  });\n}\n","import React, { Component } from 'react';\nimport './Frame.scss';\n\ninterface Props {\n  src: string;\n  id?: string;\n  customRef?: React.RefObject<HTMLIFrameElement>\n  disableClicks?: boolean;\n}\n\n/**\n * This component houses the actual Matterport IFrame element. Doesn't do anything else.\n */\nexport default class Frame extends Component<Props, {}> {\n\n  render() {\n    const {\n      src,\n      id,\n      customRef,\n      children,\n      disableClicks,\n    } = this.props;\n\n    return (\n      <div className='frame'>\n        <iframe\n          id={id || 'showcase'}\n          className='frame'\n          src={src}\n          title={'showcase'}\n          allowFullScreen={true}\n          frameBorder='0'\n          ref={customRef}\n          style={disableClicks ? { pointerEvents: 'none', } : undefined}\n        />\n        {children}\n      </div>\n    );\n  }\n}\n","import { Component } from 'react';\nimport './Accordion.scss';\n\ninterface AccordionProps {\n  header?: string\n}\n\nexport default class Accordion extends Component<AccordionProps> {\n\n  public render() {\n    const { header, children } = this.props;\n\n    return (\n      <div className='accordion'>\n        { header &&\n          <div className='accordion-header header-font'>{header}</div>\n        }\n        <div className='accordion-groups'>\n          {children}\n        </div>\n      </div>\n    );\n  }\n}","import classNames from 'classnames';\nimport { Component } from 'react';\nimport './AccordionItem.scss';\n\ninterface AccordionItemProps {\n  header?: string;\n  body?: string;\n  selected?: boolean;\n  onClick?: (e: any) => void;\n}\n\nexport const ACCORDION_ITEM_HEIGHT = '52px';\n\nexport default class AccordionItem extends Component<AccordionItemProps> {\n  public render() {\n    const { header, body, selected, onClick } = this.props;\n    return (\n      <div\n        className={classNames('accordion-item', {'selected': !!selected})}\n        onClick={onClick}\n        style={{ height: ACCORDION_ITEM_HEIGHT }}\n      >\n        <div className='accordion-item-details'>\n          <div className='accordion-item-header'>{header}</div>\n          <div className='accordion-item-body'>{body}</div>\n        </div>\n      </div>\n    );\n  }\n}","import { Component } from 'react';\nimport './Icon.scss';\nimport classNames from 'classnames';\n\ninterface IconProps {\n  icon: string;\n  classes?: string | string[];\n}\n\nexport default class Icon extends Component<IconProps> {\n  public render() {\n    const { icon, classes } = this.props;\n    let classArray: string[] = [];\n    if (classes) {\n      if (Array.isArray(classes)) {\n        classArray = classes;\n      } else {\n        classArray = [classes];\n      }\n    }\n\n    return (\n      <span className={classNames('icon', 'icon-' + icon, ...classArray)} />\n    );\n  }\n}","import { Component } from 'react';\nimport classNames from 'classnames';\nimport './AccordionGroup.scss';\nimport { ACCORDION_ITEM_HEIGHT } from './AccordionItem';\nimport Icon from '../icon/Icon';\n\ninterface AccordionGroupProps {\n  header?: string;\n  expanded?: boolean;\n  showNumber?: boolean;\n}\n\ninterface AccordionGroupState {\n  expanded: boolean;\n  showChildren: boolean;\n}\n\nexport default class AccordionGroup extends Component<AccordionGroupProps, AccordionGroupState> {\n  constructor(props: any) {\n    super(props);\n    const { expanded } = this.props;\n    this.state = {\n      expanded: !!expanded,\n      showChildren: !!expanded,\n    };\n  }\n\n  private onClick = () => {\n    const { expanded, showChildren } = this.state;\n    this.setState({\n      expanded: !expanded,\n    }, () => setTimeout(() => this.setState({showChildren: !showChildren}), showChildren ? 250 : 0));\n  }\n  \n  public render() {\n    const { children, header, showNumber } = this.props;\n    const { expanded } = this.state;\n\n    let numChildren = 0;\n    if (children) {\n      if (Array.isArray(children)) {\n        numChildren = children.length;\n      } else {\n        numChildren =  1; // one child fails isArray check\n      }\n    }\n    const hasChildren = numChildren > 0;\n    const contentHeight = expanded && hasChildren ? `calc(${numChildren}*${ACCORDION_ITEM_HEIGHT})` : '0';\n\n    return (\n      <div className={classNames('accordion-group-container', {'collapsed': !expanded})}>\n        <div\n          className='accordion-group-header header-font'\n          onClick={this.onClick}\n        >\n          {'' + header + (hasChildren && showNumber ? ` (${numChildren})` : '')}\n          <Icon icon='chevron-down' />\n        </div>\n        <div\n          className={classNames('accordion-group', {\n            'collapsed': !expanded,\n          })}\n          style={{ height: contentHeight }}\n        >\n          {numChildren > 0 && children}\n        </div>\n      </div>\n    );\n  }\n}","import { Component } from 'react';\nimport './MenuNudge.scss';\n\ninterface MenuNudgeProps {\n  text: string;\n  closeText: string;\n  onClose: () => void;\n}\n\ninterface MenuNudgeState {\n  opacity: number;\n}\n\nexport default class MenuNudge extends Component<MenuNudgeProps, MenuNudgeState> {\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      opacity: 0,\n    };\n  }\n\n  public componentDidMount() {\n    setTimeout(() => this.setState({\n      opacity: 1,\n    }), 30); // HACK: guarantee opacity transition fires, lazy\n  }\n\n  public render() {\n    const { text, closeText, onClose } = this.props;\n    const { opacity } = this.state;\n\n    return (\n      <div className='menu-nudge-container' style={{ opacity: opacity }}>\n        <div className='nudge-text'>{text}</div>\n        <button type='button' className='nudge-close-button header-font' onClick={onClose}>{closeText}</button>\n      </div>\n    );\n  }\n}","export const LanguageOptions = {\n  EN: {\n    code: 'en',\n    text: 'English',\n  },\n  ES: {\n    code: 'es',\n    text: 'Español',\n  },\n  FR: {\n    code: 'fr',\n    text: 'Français',\n  },\n  DE: {\n    code: 'de',\n    text: 'Deutsch',\n  },\n  RU: {\n    code: 'ru',\n    text: 'Русский',\n  },\n  ZH: {\n    code: 'zh',\n    text: '中文',\n  },\n  JA: {\n    code: 'ja',\n    text: '日本語',\n  },\n  NL: {\n    code: 'nl',\n    text: 'Nederlands',\n  },\n  IT: {\n    code: 'it',\n    text: 'Italiano',\n  },\n  PT: {\n    code: 'pt',\n    text: 'Português',\n  },\n}\n\n// TODO: this is a temporary fix for localization. For the final product, need to make more scalable\n\ninterface LookupTable {\n  [key: string]: TranslationTable;\n}\n\ninterface TranslationTable {\n  [lang: string]: string;\n}\n\nconst table: LookupTable = {\n  'Locations': {\n    'en': \"Locations\",\n    'es': \"Ubicaciones\",\n    'fr': \"Emplacements\",\n    'de': \"Standorte\",\n    'ru': \"Локации\",\n    'zh': \"地点\",\n    'ja': \"場所\",\n    'nl': \"Locaties\",\n    'it': \"Posizioni\",\n    'pt': \"Localizações\",\n  },\n  'Floor': {\n    'en': \"Floor\",\n    'es': \"Piso\",\n    'fr': \"Étage\",\n    'de': \"Stock\",\n    'ru': \"Этаж\",\n    'zh': \"层\",\n    'ja': \"階\",\n    'nl': \"Verdieping\",\n    'it': \"Piano\",\n    'pt': \"Andar\",\n  },\n  'nudge_text': {\n    'en': \"Select a location to begin wayfinding\",\n    'es': \"Seleccione una ubicación para comenzar la orientación\",\n    'fr': \"Sélectionnez un emplacement pour commencer l'orientation\",\n    'de': \"Wählen Sie einen Ort aus, um mit der Wegfindung zu beginnen\",\n    'ru': \"Выберите место, чтобы начать поиск\",\n    'zh': \"选择一个地点开始寻路\",\n    'ja': \"経路探索を開始する場所を選択します\",\n    'nl': \"Selecteer een locatie om te beginnen met bewegwijzering\",\n    'it': \"Seleziona una posizione per iniziare l'orientamento\",\n    'pt': \"Selecione um local para começar o wayfinding\",\n  },\n  'CLOSE': {\n    'en': \"CLOSE\",\n    'es': \"CERRAR\",\n    'fr': \"FERMER\",\n    'de': \"SCHLIESSEN\",\n    'ru': \"ЗАКРЫТЬ\",\n    'zh': \"关\",\n    'ja': \"閉じる\",\n    'nl': \"SLUITEN\",\n    'it': \"CHIUDERE\",\n    'pt': \"FECHAR\",\n  },\n  'Fly Mode': {\n    'en': \"Fly Mode\",\n    'es': \"Modo Vuelo\",\n    'fr': \"Mode Vol\",\n    'de': \"Flugmodus\",\n    'ru': \"Режим Полета\",\n    'zh': \"飞行模式\",\n    'ja': \"フライモード\",\n    'nl': \"Vliegmodus\",\n    'it': \"Modalità Volo\",\n    'pt': \"Modo Voo\",\n  },\n  'Great Hall': {\n    'en': \"Great Hall\",\n    'es': \"Gran Salón\",\n    'fr': \"Grand Hall\",\n    'de': \"Großer Saal\",\n    'ru': \"Большой Зал\",\n    'zh': \"大厅\",\n    'ja': \"グレート・ホール\",\n    'nl': \"Grote Zaal\",\n    'it': \"Sala Grande\",\n    'pt': \"Grande Salão\",\n  },\n  '125: History Department Conference Room': {\n    'en': \"125: History Department Conference Room\",\n    'es': \"125: Sala de Conferencias del Departamento de Historia\",\n    'fr': \"125: Salle de Conférence du Département d'Histoire\",\n    'de': \"125: Konferenzraum der Fachbereich Geschichte\",\n    'ru': \"125: Конференц-зал Исторического Факультета\",\n    'zh': \"125: 历史系会议室\",\n    'ja': \"125: 歴史学部会議室\",\n    'nl': \"125: Geschiedenis Departement Conferentiezaal\",\n    'it': \"125: Sala Conferenze del Dipartimento di Storia\",\n    'pt': \"125: Sala de Conferências do Departamento de História\",\n  },\n  '225: History Department Graduate Lounge': {\n    'en': \"225: History Department Graduate Lounge\",\n    'es': \"225: Salón de Grados del Departamento de Historia\",\n    'fr': \"225: Salon des Diplômés du Département d'Histoire\",\n    'de': \"125: Fachbereich Geschichte Graduate Lounge\",\n    'ru': \"125: Гостиная для Выпускников Исторического факультета\",\n    'zh': \"125: 历史系研究生休息室\",\n    'ja': \"125: 歴史学部大学院ラウンジ\",\n    'nl': \"125: Geschiedenis Departement Graduate Lounge\",\n    'it': \"125: Salone dei Laureati del Dipartimento di Storia\",\n    'pt': \"125: Departamento de História Lounge de Graduados\",\n  },\n  'B21: Warren Center Conference Room': {\n    'en': \"225: Warren Center Conference Room\",\n    'es': \"225: Sala de Conferencias del Centro Warren\",\n    'fr': \"225: Salle de Conférence du Centre Warren\",\n    'de': \"125: Warren Center Konferenzraum\",\n    'ru': \"125: Конференц-зал Центра Уоррена\",\n    'zh': \"125: 沃伦中心会议厅\",\n    'ja': \"125: ウォーレンセンター会議室\",\n    'nl': \"125: Warren Center Conferentiezaal\",\n    'it': \"125: Sala conferenze del Warren Center\",\n    'pt': \"125: Sala de Conferências do Centro Warren\",\n  },\n};\n\nexport function loc(key: string, lang: string): string {\n  if (!(key in table))\n    return key;\n  if (!(lang in table[key]))\n    return table[key]['en'];\n  return table[key][lang];\n}\n\n\n\n","import { Component } from 'react';\nimport { Dictionary, MpSdk, Sweep } from '../../mp/sdk';\nimport './Menu.scss';\nimport Accordion from '../reusables/accordion/Accordion';\nimport AccordionGroup from '../reusables/accordion/AccordionGroup';\nimport AccordionItem from '../reusables/accordion/AccordionItem';\nimport { SweepAlias } from '../sweepAliases';\nimport Icon from '../reusables/icon/Icon';\nimport MenuNudge from './MenuNudge';\nimport { LanguageOptions, loc } from '../Localization';\n\ninterface MenuProps {\n  lang: string;\n  currSweepId?: string;\n  selectedSweepId?: string;\n  sweepData: Sweep.SweepData[];\n  sweepAlias?: SweepAlias;\n  floorMap?: Dictionary<MpSdk.Floor.FloorData>;\n  onChange: (e: any) => void;\n  onClose: () => void;\n  onChangeLang: (e: any) => void;\n}\n\ninterface MenuState {\n  sweepGroups: SweepGroups;\n  displayNudge: boolean;\n}\n\ninterface SweepGroups {\n  [group: string]: Sweep.SweepData[];\n}\n\n/**\n * Time (ms) until nudge displays\n */\nconst MENU_NUDGE_TIMEOUT = 2000;\n/**\n * Key name for browser storage of whether nudge has been seen (close button clicked)\n */\nconst MENU_NUDGE_SEEN_KEY = 'menu_nudge_seen';\n\n/**\n * Component for UI elements like sweep selector, location info, etc.\n */\nexport default class Menu extends Component<MenuProps, MenuState> {\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      sweepGroups: {},\n      displayNudge: false,\n    };    \n  }\n\n  public componentDidMount() {\n    const nudgeSeen = sessionStorage.getItem(MENU_NUDGE_SEEN_KEY);\n    if (!nudgeSeen || nudgeSeen === 'false') {\n      window.setTimeout(() => {\n        this.setState({\n          displayNudge: true,\n        });\n      }, MENU_NUDGE_TIMEOUT);\n    }\n  }\n\n  private onCloseNudge = () => {\n    sessionStorage.setItem(MENU_NUDGE_SEEN_KEY, 'true');\n    this.setState({\n      displayNudge: false,\n    });\n  }\n\n  private getGroups() {\n    const { sweepData, sweepAlias } = this.props;\n    const groups: SweepGroups = {};\n    for (const s of sweepData) {\n      if (sweepAlias && !(s.sid in sweepAlias)) continue; // skip sweeps without alias, if available\n      const floor = '' + s.floor;\n      if (!(floor in groups)) {\n        groups[floor] = [];\n      }\n      groups[floor].push(s);\n    }\n    return groups;\n  }\n\n  private renderItem(s: Sweep.SweepData) {\n    const { lang, onChange, selectedSweepId, sweepAlias } = this.props;\n    const { sid } = s;\n    const name = sweepAlias ? loc(sweepAlias[sid], lang) : sid; // replace sid with alias, if available\n    return (\n      <AccordionItem\n        header={name}\n        onClick={() => onChange(sid)}\n        selected={sid === selectedSweepId}\n        key={sid}\n      />\n    );\n  }\n\n  /**\n   * Renders sweeps grouped by floors.\n   * @returns List of `<AccordionGroup>` with items inside.\n   */\n  private renderGroups() {\n    const { lang, selectedSweepId, floorMap } = this.props;\n    const sweepGroups = this.getGroups();\n    const floors: any = [];\n    let selectedFloor = undefined;\n\n    for (const [floor, sweeps] of Object.entries(sweepGroups)) {\n      if (!(floor in floors)) floors[floor] = [];\n      \n      const items = []\n      for (const s of sweeps) {\n        items.push(this.renderItem(s));\n        if (s.sid === selectedSweepId) {\n          selectedFloor = s.floor;\n        }\n      }\n\n      const floorName = floorMap?.[floor]?.name;\n      const floorSequence = floorMap?.[floor]?.sequence;\n\n      // use floor name, 1-indexed sequence, id in that order of priority\n      const header = floorName ||\n        (floorSequence !== undefined && `${loc('Floor', lang)} ${floorSequence+1}`) ||\n        floor;\n\n      floors.push(\n        <AccordionGroup\n          header={header}\n          expanded={!!selectedFloor && ''+selectedFloor === floor}\n          showNumber={true}\n          key={floor}\n        >\n          {items}\n        </AccordionGroup>\n      );\n    }\n    return floors;\n  }\n\n  public renderLanguageSelect() {\n    const langOptions = [];\n    for (const {code, text} of Object.values(LanguageOptions)) {\n      langOptions.push(<option value={code}>{text}</option>);\n    }\n    return (\n      <div style={{ marginLeft: 'auto' }}>\n        <select\n          className='language-select'\n          onChange={this.props.onChangeLang}\n        >\n          {langOptions}\n        </select>\n      </div>\n    );\n  }\n  \n  public render() {\n    const { lang, onClose } = this.props;\n    const { displayNudge } = this.state;\n    return (\n      <div className='menu'>\n        <div className='menu-header'>\n          <div className='menu-header-text header-font'>{loc('Locations', lang)}</div>\n          {this.renderLanguageSelect()}\n          <button type='button' className='menu-close-button' onClick={onClose}>\n            <Icon icon='close' />\n          </button>\n        </div>\n        <Accordion>\n          {this.renderGroups()}\n        </Accordion>\n        { displayNudge &&\n          <MenuNudge\n            text={loc('nudge_text', lang)}\n            closeText={loc('CLOSE', lang)}\n            onClose={this.onCloseNudge}\n          />\n        }\n      </div>\n    );\n  }\n}","import classNames from 'classnames';\nimport { Component } from 'react';\nimport Icon from '../reusables/icon/Icon';\nimport './MenuButton.scss';\n\ninterface MenuButtonProps {\n  text?: string;\n  onClick: () => void;\n}\n\nexport default class MenuButton extends Component<MenuButtonProps> {\n  \n  public render() {\n    const { text, onClick } = this.props;\n    return (\n      <div className='menu-button-container'>\n        <button type='button' className={classNames('menu-button', {'text-button': !!text})} onClick={onClick}>\n          {text ? text : \n            <Icon icon='chevron-left' />\n          }\n        </button>\n      </div>\n    );\n  }\n}","import { Dictionary, MpSdk, Vector3 } from \"../mp/sdk\";\n\n/**\n * This module is for general helper interfaces, types, and methods.\n */\n\n/**\n * Euclidean distance between two points.\n * @param {Vector3} p1 \n * @param {Vector3} p2 \n * @returns {number}\n */\nexport function distance(p1: Vector3, p2: Vector3): number {\n  return Math.sqrt((p1.x - p2.x)**2 + (p1.y - p2.y)**2 + (p1.z - p2.z)**2);\n}\n\nexport function sweepIdToPoint(id: string, sweepData: Dictionary<MpSdk.Sweep.ObservableSweepData>): Vector3 {\n  return sweepData[id].position;\n}\n\n/**\n * Returns a number clamped to the given range.\n * @param {number} num The number to clamp.\n * @param {number} min The lower bound of the range.\n * @param {number} max The upper bound of the range.\n */\nexport function clamp(num: number, min: number, max: number): number {\n  return Math.min(Math.max(num, min), max);\n}\n\nexport {};","import { Sweep, Vector3 } from '../mp/sdk';\nimport { distance } from './utils';\n\n/**\n * Path given by `findShortestPath` as list of sweep ids. It's a separate type\n * just in case the return type changes.\n */\nexport type SweepPath = string[];\n\n/**\n * Graph as adjacency list, with sweep ids mapping to a list of neighboring ids,\n * who each map to corresponding distances.\n */\ninterface SweepGraph {\n  [a_id: string]: AdjacencyNode;\n}\ninterface AdjacencyNode {\n  [b_id: string]: number;\n}\n\nexport interface SweepPositions {\n  [id: string]: Vector3;\n}\n\nexport default class Pathfinder {\n\n  private VERT_THRESHOLD = 0.5; // penalize sweeps vertically separated by this distance, in meters\n  private HORZ_THRESHOLD = 10.0; // penalize sweeps horizontally separated by this distance, in meters\n\n  private graph: SweepGraph = {};\n  public path: SweepPath = [];\n\n  private sweepPositions: SweepPositions = {};\n\n  constructor(sweepData: Sweep.SweepData[]) {\n    // init sweepPositions\n    sweepData.forEach(sweep => this.sweepPositions[sweep.sid] = sweep.position);\n    this.createGraph(sweepData);\n  }\n\n  /**\n   * Generate graph of sweep distances.\n   * @param {Sweep.SweepData[]} sweeps List of sweep data, such as `sdk.Model.getData().sweeps`\n   */\n  private createGraph(sweeps: Sweep.SweepData[]): void {\n    const graph: SweepGraph = {};\n    for (let i = 0; i < sweeps.length; i++) {\n      const sweep_a = sweeps[i];\n      const adj: AdjacencyNode = {};\n      const neighbor_sids = sweep_a.neighbors;\n      for (let j = 0; j < neighbor_sids.length; j++) {\n        const sweep_b_sid = neighbor_sids[j];\n        const d = distance(sweep_a.position, this.sweepPositions[sweep_b_sid]);\n        adj[sweep_b_sid] = d;\n      }\n      graph[sweep_a.sid] = adj;\n    }\n    this.graph = graph;\n  }\n\n  /**\n   * Heuristic function for A*. Just take Euclidean distance.\n   */\n  private heuristic(i_sid: string, j_sid: string): number {\n    const { sweepPositions } = this;\n    return distance(sweepPositions[i_sid], sweepPositions[j_sid]);\n  }\n\n  /**\n   * Additional penalty to avoid large vertical/horizontal jumps.\n   */\n  private penalty(i_sid: string, j_sid: string): number {\n    const { sweepPositions } = this;\n    return ((sweepPositions[i_sid].y - sweepPositions[j_sid].y) / this.VERT_THRESHOLD) ** 4\n      + (((sweepPositions[i_sid].x - sweepPositions[j_sid].x) ** 2 + (sweepPositions[i_sid].z - sweepPositions[j_sid].z) ** 2) / this.HORZ_THRESHOLD);\n  }\n\n  /**\n   * Find shortest path between two sweeps connected by valid movements.\n   * @param {string} a_sid SID of starting sweep.\n   * @param {string} b_sid SID of ending sweep.\n   * @returns {SweepPath} Path from `a_sid` to `b_sid`.\n   */\n  public async findShortestPath(a_sid: string, b_sid: string): Promise<SweepPath | undefined> {\n\n    const { graph } = this;\n\n    // check SIDs are valid\n    if (graph[a_sid] === undefined || graph[b_sid] === undefined) {\n      console.error('Sweep SID(s) is invalid.');\n      return;\n    }\n\n    const ht: any = {}; // hash table that stores the following info for each encountered sweep:\n    ht[a_sid] = { visited: false, distance: 0, cost: 0, parent: null };\n\n    // loop A* algorithm\n    let debug_n = 0; // count number of iterations\n\n    while (true) {\n      debug_n += 1;\n      // find unvisited sweep with minimum cost = distance + heuristic\n      // TODO: optimize with priority queue\n      let min_sid;\n      const encountered_sids = Object.keys(ht);\n      for (let i = 0; i < encountered_sids.length; i++) {\n        const sid = encountered_sids[i];\n        if (!ht[sid].visited && (min_sid === undefined || ht[sid].cost < ht[min_sid].cost)) {\n          min_sid = sid;\n        }\n      }\n      if (min_sid === undefined) {\n        console.error('Could not find path; sweeps are not connected.');\n        return;\n      }\n      // check if sweep is ending point\n      if (min_sid === b_sid) {\n        break;\n      }\n      // add all neighbors of `min_sid`\n      ht[min_sid].visited = true;\n      const neighbor_sids = Object.keys(graph[min_sid]);\n      for (let i = 0; i < neighbor_sids.length; i++) {\n        const sid = neighbor_sids[i];\n        const dist = ht[min_sid].distance + graph[min_sid][sid];\n        const cost = dist + this.penalty(min_sid, sid) + this.heuristic(sid, b_sid);\n        if (sid in ht) { // if sweep has been encountered\n          if (!ht[sid].visited && (ht[sid].cost > cost)) { // if not visited and smaller cost, then update\n            ht[sid].parent = min_sid;\n            ht[sid].distance = dist;\n            ht[sid].cost = cost;\n          }\n        } else { // if sweep has not been encountered yet\n          ht[sid] = { visited: false, distance: dist, cost: cost, parent: min_sid };\n        }\n      }\n    }\n    console.log(`Pathfind iterations: ${debug_n}`);\n\n    // traverse graph back to starting point\n    let sid = b_sid;\n    const path: string[] = [sid];\n    while (ht[sid].parent !== null) {\n      sid = ht[sid].parent as string;\n      path.push(sid);\n    }\n    path.reverse();\n    return path;\n\n  }\n}","export default class Translator {\n\n  private url: string = \"https://api-free.deepl.com/v2/translate\";\n  private key: string = \"1fa4cd0a-7872-2cc0-e6e3-e96c6587ca62:fx\";\n\n  constructor(lang: string) {\n    this.url += `?auth_key=${this.key}&target_lang=${lang}`;\n  }\n\n  /**\n   * Smoketest for DeepL HTTP requests\n   */\n  // public testQuery(): boolean {\n  //   const xhr = new XMLHttpRequest();\n  //   let query = this.url + `&text=`;\n  //   xhr.open(\"GET\", query, false); // synchronous request\n  //   xhr.send(); \n  //   let status = xhr.status;\n  //   return status === 0 || (status >= 200 && status < 400);\n  // }\n\n  public checkUsage(): void {\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", `https://api-free.deepl.com/v2/usage?auth_key=${this.key}`);\n    xhr.onload = () => {\n      if (xhr.readyState === 4) {\n        const status = xhr.status;\n        if (status === 0 || (status >= 200 && status < 400)) {\n          console.log(\"DeepL Usage:\", xhr.responseText);\n        } else {\n          console.error(\"Usage retrieval failed.\")\n        }\n      }\n    }\n    xhr.send();\n  }\n\n  /**\n   * Translate using DeepL via HTTP request\n   * @param texts List of strings to translate\n   * @param callBack Callback handling translated strings\n   */\n  public translate(\n    texts: string[], \n    callBack: (newTexts: string[]) => void,\n  ){\n    const xhr = new XMLHttpRequest();\n    let query = this.url;\n    for (let i=0; i<texts.length; i++) {\n      query += `&text=${texts[i]}`;\n    }\n    xhr.open(\"GET\", query); \n    xhr.onload = () => {\n      if (xhr.readyState === 4) {\n        const status = xhr.status;\n        if (status === 0 || (status >= 200 && status < 400)) {\n          const json = xhr.responseText;\n          callBack(this.parse(json));\n        } else {\n          console.error(\"Translation failed.\")\n        }\n      }\n    }\n    xhr.send();\n  }\n\n  /**\n   * Parse the JSON received from DeepL. Returns translated texts, as a list.\n   */\n  private parse(json: string): string[] {\n    const obj = JSON.parse(json);\n    const transTexts = [];\n    for (let i=0; i<obj.translations.length; i++) {\n      transTexts.push(obj.translations[i].text);\n    }\n    return transTexts;\n  }\n\n}\n","import { Color, Vector3 } from '../../mp/sdk';\nimport { distance } from '../utils';\n\ninterface PathRendererInputs {\n  visible: boolean;\n  path: Vector3[];\n  radius: number;\n  color: Color | number;\n  opacity: number;\n  heightOffset: number;\n  stepMultiplier: number;\n}\n\ninterface PathRendererOutputs {\n  objectRoot: any;\n  curve: any;\n  distance: number;\n}\n\nclass PathRenderer {\n\n  private material: any;\n\n  private inputs: PathRendererInputs = {\n    visible: false,\n    path: [], // positions on path\n    radius: 0.15,\n    color: 0xff3158,\n    opacity: 0.5,\n    heightOffset: -1.1,\n    stepMultiplier: 5,\n  };\n\n  private context: any;\n\n  private outputs = {\n    curve: null,\n    distance: 0,\n  } as PathRendererOutputs;\n\n  public onInit = async () => {\n\n    const THREE = this.context.three;\n\n    const { path,\n            radius,\n            heightOffset,\n            opacity,\n            color,\n            stepMultiplier } = this.inputs;\n\n    // check if path is long enough and no undefined points\n    if (path.length < 2 || !path.every(p => !!p)) return;\n    \n    let d = 0;\n    const points = path.map((p, i) => {\n      if (i > 0) {\n        d += distance(path[i-1], p);\n      }\n      return new THREE.Vector3(p.x, p.y+heightOffset, p.z);\n    });\n    const spline = new THREE.CatmullRomCurve3(points);\n\n    const extrudeSettings = {\n        steps: stepMultiplier * path.length,\n        bevelEnabled: false,\n        extrudePath: spline,\n    };\n\n    // Shape to extrude\n    const arcShape = new THREE.Shape().absarc(0, 0, radius, 0, Math.PI * 2, false);\n    \n    const extrudeGeometry = new THREE.ExtrudeGeometry( arcShape, extrudeSettings );\n    \n    this.material = new THREE.MeshBasicMaterial({\n        color: color as number,\n        transparent: true,\n        opacity: opacity,\n    });\n\n    const pathMesh = new THREE.Mesh(extrudeGeometry, this.material);\n\n    this.outputs.objectRoot = pathMesh;\n    this.outputs.curve = spline;\n    this.outputs.distance = d;\n  };\n\n  public onEvent = function(_type: any, _data: any) {\n  }\n\n  public onInputsUpdated = function(_previous: any) {\n  };\n\n  public onTick = function(_tickDelta: any) {\n  };\n\n  public onDestroy = () => {\n    this.material?.dispose();\n  };\n}\n\nexport const pathRendererType = 'sdk-component.pathRenderer';\nexport function PathRendererFactory() {\n  return new PathRenderer();\n}","import { Vector3 } from '../../mp/sdk';\nimport { clamp } from '../utils';\n\ntype Euler = {\n\tx: number;\n\ty: number;\n\tz: number;\n  order: string;\n};\n\ninterface CameraControllerInputs {\n  curve: any, \n  speed: number, \n  verticalOffset: number, \n  enabled: boolean, \n  changeUCallback: (u: number) => void, \n}\n\ninterface CameraControllerOutputs {\n  camera: any,\n}\n\nclass CameraController {\n\n  private u: number = 0; // number in [0, 1] representing position along curve\n  private length: number = 0; // length of curve\n  private up: undefined | Vector3;\n\n  private inputs: CameraControllerInputs = {\n    curve: null, // THREE.Curve object\n    speed: 1.5, // speed in meters per second\n    verticalOffset: 1., // vertical offset from curve\n    enabled: false, // true to move forward automatically, false to pause\n    changeUCallback: (u) => null, // callback eahc time u changes\n  };\n\n  private outputs = {\n    camera: null,\n  } as CameraControllerOutputs;\n\n  private context: any;\n\n  /**\n   * Given u along curve, return position and rotation for camera.\n   */\n  private getPoseAt(u: number): {position: Vector3, rotation: Euler} {\n    const { curve, speed, verticalOffset } = this.inputs;\n    const THREE = this.context.three;\n    // position\n    const uPast = Math.max(u - 0.1 * speed / this.length, 0); // 0.1 second in past\n    const uFuture = Math.min(u + speed / this.length, 1); // 1 second in the future\n    const position = curve.getPointAt(u);\n    position.y += verticalOffset; // add vertical offset;\n    const positionPast = curve.getPointAt(uPast);\n    const positionFuture = curve.getPointAt(uFuture);\n    // rotation\n    const matrix = new THREE.Matrix4().lookAt(positionPast, positionFuture, this.up);\n    const rotation = new THREE.Euler().setFromRotationMatrix(matrix, \"YXZ\");\n    return { position, rotation };\n  }\n\n  /**\n   * Set camera pose.\n   */\n  private setCamera(position: Vector3, rotation: Euler) {\n    const { camera } = this.outputs;\n    camera.position.copy(position);\n    camera.rotation.copy(rotation);\n    camera.updateProjectionMatrix();\n  }\n\n  /**\n   * Manually set u for camera.\n   */\n  public setU(u: number) {\n    this.u = u;\n    const { position, rotation } = this.getPoseAt(u);\n    this.setCamera(position, rotation);\n    this.inputs.changeUCallback(u);\n  }\n\n  // --- IComponent methods ----------------------------------------------------\n\n  public onInit = async () => {\n    const { curve } = this.inputs;\n    const THREE = this.context.three;\n\n    const camera = new THREE.PerspectiveCamera( 45, 1.333, 1, 1000 );\n    this.outputs.camera = camera;\n    this.length = curve.getLength() - 1;\n    this.up = new THREE.Vector3(0, 1, 0);\n  };\n\n  public onTick = async (tickDelta: number) => {\n    const { speed, enabled } = this.inputs;\n    if (enabled) {\n      this.u = clamp(this.u + speed * (tickDelta/1000) / this.length, 0, 1);\n      const { u } = this;\n      const { position, rotation } = this.getPoseAt(u);\n      this.setCamera(position, rotation);\n      this.inputs.changeUCallback(u);\n    }\n  };\n\n  public onDestroy = function() {\n  };\n}\n\nexport const cameraControllerType = 'sdk-component.cameraController';\nexport function CameraControllerFactory() {\n  return new CameraController();\n}\n","import { MpSdk } from \"../../mp/sdk\";\nimport { PathRendererFactory, pathRendererType } from \"./PathRenderer\";\nimport { CameraControllerFactory, cameraControllerType } from \"./CameraController\";\n\n/**\n * Registers all SDK Scene components.\n * @param {MpSdk} sdk\n */\n\nexport const initComponents = async (sdk: MpSdk | any) => {\n  await Promise.all([\n    sdk.Scene.register(pathRendererType, PathRendererFactory),\n    sdk.Scene.register(cameraControllerType, CameraControllerFactory),\n  ]);\n}","\nexport interface SweepAlias {\n  [sid: string]: string;\n}\n\nconst robinsonHall: SweepAlias = {\n  \"36642185cf3f481897967d749003d683\": \"Great Hall\",\n  \"e282bc9e7ae94a58aa624c4679e71946\": \"105\",\n  \"03dbddfa78074195ad605033e1a5ea88\": \"106\",\n  \"ecf49427817f4ad2a18971bd836f577a\": \"107\",\n  \"233c8a90b0d44803b451cc18c2beb2ac\": \"125: History Department Conference Room\",\n  \"7f3f51d4c0b9448f9e5c78a9882fe912\": \"222\",\n  \"5c19c240375d4d04a6c9ca790a35fa02\": \"223\",\n  \"c2096fe91b2543f78ca9d95070e78e63\": \"225: History Department Graduate Lounge\",\n  \"1b11bb808949421ba32142f4c48b9823\": \"B21: Warren Center Conference Room\",\n};\n\nconst scu: SweepAlias = {\n  \"6d80bf2d4e71453aa0134fc61c2d8102\": \"Entrance\",\n  \"ff56dea1f04c4ab08d2121d805cf9be2\": \"Sports Performance Center\",\n  \"857ceb1a450d46099b6b9c66f81bd644\": \"Sobrato Gymnasium\",\n  \"8ddd9373572b4ae7a6c7063a9dacdc3b\": \"Rambis Family Gymnasium\",\n  \"cadbfa305b77449c8a5907fc2b9d1d0e\": \"Stevens Academic Center\",\n  \"6c67c4e49ee440ad9895872922a12a32\": \"Sports Medicine Center\",\n}\n\nexport const sweepAliases: any = {\n  \"GycExKiYVFp\": robinsonHall,\n  \"JYz9SNonEqa\": scu,\n}\n","import React, { Component } from 'react';\nimport { clamp } from '../../utils';\nimport './ProgressBar.scss';\n\nconst PROGRESS_BAR_THUMB_SIZE = '14px';\n\ninterface ProgressBarProps {\n  min: number;\n  max: number;\n  initValue?: number;\n  overrideValue?: number;\n  scrub?: boolean;\n  step?: number;\n  noThumb?: boolean;\n  onMouseDown?: (value: number) => void;\n  onMouseUp?: (value: number) => void;\n  onChange?: (value: number) => void;\n}\n\ninterface ProgressBarState {\n  value: number; // will always match overrideValue when passed around (see componentdidUpdate)\n  mouseDown: boolean;\n}\n\nexport default class ProgressBar extends Component<ProgressBarProps, ProgressBarState> {\n  \n  private abortController = new AbortController();\n  private trackRef = React.createRef<HTMLDivElement>();\n\n  constructor(props: ProgressBarProps) {\n    super(props);\n    const { initValue } = props;\n    \n    this.state = {\n      value: initValue || 0,\n      mouseDown: false,\n    }\n  }\n  \n  public componentDidMount() {\n    window.addEventListener(\n      'mouseup',\n      this.onMouseUp,\n      { signal: this.abortController.signal } as AddEventListenerOptions\n    );\n    window.addEventListener(\n      'mousemove',\n      this.onMouseMove,\n      { signal: this.abortController.signal } as AddEventListenerOptions\n    );\n  }\n\n  public componentWillUnmount() {\n    this.abortController.abort();\n  }\n\n  public componentDidUpdate(prevProps: ProgressBarProps, prevState: ProgressBarState) {\n    if (prevProps.overrideValue !== prevState.value && this.props.overrideValue) {\n      this.setState({ value: this.props.overrideValue });\n    }\n  }\n\n  /**\n   * Calculates value of progress bar from mouse position.\n   * @param mx Mouse X position.\n   * @returns Clamped value based on min/max, or current value iff ref is undefined.\n   */\n  private calculate(mx: number): number {\n    const { min, max } = this.props;\n    const { value } = this.state;\n    const track = this.trackRef.current;\n    if (!track) return value;\n\n    const rect = track.getBoundingClientRect();\n    const dx = mx - rect.left;\n    const total = rect.right - rect.left;\n    const frac = dx / total;\n    const range = max - min;\n    \n    return clamp(frac * range, min, max);\n  }\n\n  private onMouseDown = (e: any) => {\n    const { onMouseDown, onChange } = this.props;\n    const ev = e as MouseEvent;\n    if (ev.button !== 0) return;\n\n    const value = this.calculate(ev.clientX);\n    onMouseDown?.(value);\n    onChange?.(value);\n    this.setState({ value: value, mouseDown: true });\n  }\n\n  private onMouseUp = (e: any) => {\n    const { onMouseUp } = this.props;\n    const { value, mouseDown, } = this.state;\n    const ev = e as MouseEvent;\n    if (ev.button !== 0) return;\n\n    if (mouseDown) {\n      onMouseUp?.(value);\n    }\n    this.setState({ mouseDown: false });\n  }\n\n  private onMouseMove = (e: any) => {\n    const { scrub, onChange, } = this.props;\n    const { mouseDown } = this.state;\n    if (!scrub || !mouseDown) return;\n\n    const ev = e as MouseEvent;\n    const value = this.calculate(ev.clientX);\n    this.setState({ value: value }, () => onChange?.(value))\n  }\n\n  public render() {\n    const {\n      min,\n      max,\n      overrideValue,\n      noThumb,\n    } = this.props;\n    const {\n      value,\n      mouseDown\n    } = this.state;\n\n    const frac = (overrideValue || value) / (max - min);\n    const percent = frac * 100;\n\n    return (\n      <div className='progress-bar-container'>\n        <div className='progress-bar-track-container'>\n          <div\n            className='progress-bar-track'\n            onMouseDown={this.onMouseDown}\n            ref={this.trackRef}\n          >\n            <div\n              className='progress-bar-progress'\n              style={{\n                width: `${percent}%`\n              }}\n            ></div>\n          </div>\n        </div>\n        { !noThumb &&\n          <div\n            className='progress-bar-thumb'\n            style={{\n              width: PROGRESS_BAR_THUMB_SIZE,\n              height: PROGRESS_BAR_THUMB_SIZE,\n              left: `calc(${percent}% - (${PROGRESS_BAR_THUMB_SIZE}/2))`,\n            }}\n            onMouseDown={this.onMouseDown}\n          ></div>\n        }\n        {/* Needed so mousemove fires even when over the {pointer-events: none} canvas */}\n        <div className='pointer-event-overlay'\n          style={{\n            position: 'fixed',\n            inset: '0',\n            pointerEvents: 'all',\n            display: mouseDown ? 'block' : 'none',\n          }}\n        ></div>\n      </div>\n    );\n  }\n}","import { Component } from 'react';\nimport Icon from '../../reusables/icon/Icon';\nimport './ControlsOverlay.scss';\nimport ProgressBar from './ProgressBar';\n\ninterface ControlsOverlayProps {\n  playing: boolean;\n  onPlay: () => void;\n  onPause: () => void;\n  onExit: () => void;\n  setU: (u: number) => void;\n  u: number;\n}\n\ninterface ControlsOverlayState {\n  rememberPlayState: boolean;\n}\n\nexport default class ControlsOverlay extends Component<ControlsOverlayProps, ControlsOverlayState> {\n\n  constructor(props: ControlsOverlayProps) {\n    super(props);\n    this.state = {\n      rememberPlayState: true,\n    }\n  }\n\n  private onScrubMouseDown = () => {\n    this.props.onPause();\n  }\n\n  private onScrubMouseUp  = () => {\n    if (this.state.rememberPlayState) {\n      this.props.onPlay();\n    }\n  }\n\n  private togglePlay = () => {\n    const { playing, onPlay, onPause } = this.props;\n    playing ? onPause() : onPlay();\n    this.setState({ rememberPlayState: !playing })\n  }\n\n  public render() {\n    const { playing, onExit, setU, u } = this.props;\n\n    return (\n      <div className='controls-overlay-container'>\n        <div className='controls-overlay'>\n          <ProgressBar\n            min={0}\n            max={1}\n            scrub={true}\n            onChange={setU}\n            onMouseDown={this.onScrubMouseDown}\n            onMouseUp={this.onScrubMouseUp}\n            overrideValue={u}\n          />\n          <div className='control-button-container'>\n            <button type='button'\n              className='control-button play-button'\n              onClick={this.togglePlay}\n            >\n              <Icon icon={playing ? 'showcase-pause-lg' : 'showcase-play-lg'} classes='play-pause-button' />\n            </button>\n            <button type='button' className='control-button exit-button' onClick={onExit}>\n              <Icon icon='close' />\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n\n  }\n}","import { Component } from 'react';\nimport './FlyModeButton.scss';\nimport { loc } from '../../Localization';\n\ninterface FlyModeButtonProps {\n  lang: string;\n  onClick: () => void;\n}\n\nexport default class FlyModeButton extends Component<FlyModeButtonProps> {\n  public render() {\n    const { lang, onClick } = this.props;\n    return (\n      <div className='flymode-button-container'>\n        <button className='flymode-button' onClick={onClick}>{loc('Fly Mode', lang)}</button>\n      </div>\n    );\n  }\n}","import classNames from 'classnames';\nimport { Component } from 'react';\nimport './IconButton.scss';\nimport Icon from '../icon/Icon';\n\ninterface IconButtonProps {\n  onClick: () => void;\n  icon: string;\n  classes?: string[]\n}\n\nexport default class IconButton extends Component<IconButtonProps> {\n  public render() {\n    const { onClick, icon, classes } = this.props;\n\n    return (\n      <div className={classNames('icon-button-container', classes)}>\n        <button\n          type='button'\n          className='icon-button'\n          onClick={onClick}\n        >\n          <Icon icon={icon} />\n        </button>\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport { GetSDK } from '../mp/GetSDK';\nimport { Dictionary, MpSdk, Sweep } from '../mp/sdk';\nimport './App.scss';\nimport Frame from './Frame';\nimport Menu from './ui/Menu';\nimport MenuButton from './ui/MenuButton';\nimport Pathfinder from './Pathfinder';\nimport Translator from './Translator';\nimport { initComponents } from './sdk-components';\nimport { pathRendererType } from './sdk-components/PathRenderer';\nimport { cameraControllerType } from './sdk-components/CameraController';\nimport { sweepIdToPoint } from './utils';\nimport { SweepAlias, sweepAliases } from './sweepAliases';\nimport ControlsOverlay from './ui/overlay/ControlsOverlay';\nimport FlyModeButton from './ui/overlay/FlyModeButton';\nimport IconButton from './reusables/icon-button/IconButton';\n\nexport interface Sdk extends MpSdk {\n  Scene?: any;\n}\n\ninterface AppState {\n  lang: string;\n  currSweepId?: string;\n  selectedSweepId?: string;\n  sweepData: Sweep.SweepData[]; // put in state because changes should trigger rerender\n  sweepMap?: Dictionary<MpSdk.Sweep.ObservableSweepData>;\n  path?: any; // put in state so path visibility updates trigger rerender\n  menuEnabled: boolean;\n  flyModeEnabled: boolean;\n  flyU: number; // integer in [0, 1] indicating position in flythrough\n  flyModePlaying: boolean;\n  floorMap?: Dictionary<MpSdk.Floor.FloorData>;\n}\n\nconst defaultUrlParams: any = {\n  m: '31o95DVF7cY',\n  applicationKey: 'x67cy2qhc1h8f1nkmh1ax3i6c',\n  title: '0',\n  qs: '1',\n  hr: '0',\n  brand: '0',\n  help: '0',\n  play: '1',\n}\n\n/**\n * This is the top level class for the app. It handles API key, model ID, and url stuff,\n * and holds references to objects/modules/components for object composition.\n * Do non-initializing SDK and UI stuff in other components/files.\n */\nexport default class App extends Component<{}, AppState> {\n\n  private src: string; // the url source for the sdk\n  private urlLang: string | null = null;\n  private sdk?: Sdk;\n\n  private pathNode: any; // the node for the PathRenderer component\n  private pathfinder?: Pathfinder;\n\n  private sweepAlias?: SweepAlias; // human-readable alias for sweeps, if available\n\n  private flyNode: any; // the node for the CameraController component\n  private camCon: any; // CameraConroller component\n\n  constructor(props: any) {\n    super(props);\n    const queryString = this.handleUrlParams();\n    this.src = `${process.env.PUBLIC_URL}/bundle/showcase.html?${queryString}`;\n\n    this.state = {\n      lang: this.urlLang ? this.urlLang : 'en',\n      sweepData: [],\n      menuEnabled: true,\n      flyModeEnabled: false,\n      flyU: 0,\n      flyModePlaying: false,\n    };\n  }\n\n  /**\n   * Parses the current url params and combines them with the default params, updating when necessary.\n   * @returns url param query string (without `?`), ready to be pasted directly into the url\n   */\n  private handleUrlParams(): string {\n    const params = new URLSearchParams(window.location.search);\n    this.urlLang = params.get('lang');\n    for (const [k, v] of Object.entries(defaultUrlParams)) {\n      if (!params.has(k)) {\n        params.append(k, ''+v); // convert v to string\n      }\n    }\n    return params.toString();\n  }\n\n  // --- React methods ---------------------------------------------------------\n\n  public async componentDidMount() {\n    \n    this.sdk = await GetSDK('showcase', defaultUrlParams.applicationKey);\n    await initComponents(this.sdk);\n\n    // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    // Add user-generated Mattertags to the default model\n    // In production, this block will be removed\n    await this.sdk.Model.getData().then( async (data) => {\n      if (data.sid === 'GycExKiYVFp') {\n        const mattertags = [];\n        mattertags.push(\n          {\n            label: \"Revitalizing the Great Hall\",\n            description: \"Within the building’s Great Hall, new vestibule spaces were created to \"+\n              \"connect the main circulation corridor to new restrooms. Elevator lobbies and \"+\n              \"office suite entrances were treated as extensions of the original McKim design, \"+\n              \"with matching marble flooring and wall base, and stained oak millwork-encased \"+\n              \"openings.\",\n            anchorPosition: {x: 16.55, y: 1.28-1.5, z: 6.69},\n            stemVector: { x: 0, y: 1, z: 0 },\n          }\n        );\n        await this.sdk?.Mattertag.add(mattertags);\n      }\n    });\n    // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n    const { lang } = this.state;\n\n    await this.sdk.Model.getData().then( (data) => {\n      const sweepData = data.sweeps;\n      this.pathfinder = new Pathfinder(sweepData);\n      this.setState({\n        sweepData: sweepData,\n      });\n      this.sweepAlias = sweepAliases[data.sid];\n    });\n\n    this.sdk.Sweep.data.subscribe({\n      onCollectionUpdated: (collection: Dictionary<MpSdk.Sweep.ObservableSweepData>) => {\n        this.setState({\n          sweepMap: collection\n        });\n      },\n    });\n\n    this.sdk.Floor.data.subscribe({\n      onCollectionUpdated: (collection: Dictionary<MpSdk.Floor.FloorData>) => {\n        this.setState({\n          floorMap: collection,\n        });\n      }\n    })\n\n    this.sdk.Sweep.current.subscribe((currentSweep: any) => {\n      if (currentSweep.sid) {\n        console.log(currentSweep.sid, currentSweep.position);\n        this.setState({currSweepId: currentSweep.sid,});\n      }\n    });\n\n    // translate all mattertags, if not English\n    if (lang !== 'en')\n      this.translateMattertags(lang);\n  }\n\n  public componentDidUpdate(_prevProps: any, prevState: AppState) {\n    const { currSweepId, selectedSweepId } = this.state;\n\n    // only update path if sweep state changes\n    (currSweepId !== prevState.currSweepId ||\n    selectedSweepId !== prevState.selectedSweepId) &&\n    this.handlePath();\n  }\n\n  // --- SDK methods -----------------------------------------------------------\n\n  private onOptionSelect = (id: string) => {\n    if (id === this.state.selectedSweepId) {\n      this.clearSelection();\n    } else {\n      this.setState({\n        selectedSweepId: id,\n      });\n    }\n  }\n\n  private async handlePath() {\n    const { currSweepId, selectedSweepId, sweepMap } = this.state;\n    const { sdk, pathfinder } = this;\n\n    if (sdk && sweepMap && currSweepId && selectedSweepId && pathfinder) {\n      const path = await pathfinder.findShortestPath(currSweepId, selectedSweepId);\n      if (!path) return;\n      if (this.pathNode) this.pathNode.stop();\n      this.pathNode = await sdk.Scene.createNode();\n      this.setState ({\n        path: path.length > 1 ? this.pathNode.addComponent(pathRendererType, {\n          path: path.map(id => sweepIdToPoint(id, sweepMap)),\n          opacity: 0.7,\n          radius: 0.12,\n          stepMultiplier: 10,\n        }) : undefined,\n      });\n      this.pathNode.start();\n    }\n  }\n\n  private clearSelection = () => {\n    if (this.pathNode) this.pathNode.stop();\n    this.setState({\n      path: undefined,\n      selectedSweepId: undefined,\n    });\n  }\n\n  private toggleFlyMode = async () => {\n    const { flyModeEnabled } = this.state;\n    this.setState({\n      flyModeEnabled: !flyModeEnabled,\n      flyU: 0,\n    }, async () => {\n      if (flyModeEnabled) {\n        await this.exitFly();\n      } else {\n        await this.initFly();\n      }\n    });\n  };\n\n  private initFly = async () => {\n    const { sdk } = this;\n    const { path } = this.state;\n\n    if (sdk && path) {\n      if (this.flyNode) this.flyNode.stop();\n      this.flyNode = await sdk.Scene.createNode();\n      this.camCon = this.flyNode.addComponent(cameraControllerType, {\n        changeUCallback: (u: number) => this.setState({flyU: u}),\n      });\n      const cam = this.flyNode.addComponent('mp.camera', {\n        enabled: true,\n      });\n      this.camCon.bind('curve', path, 'curve');\n      cam.bind('camera', this.camCon, 'camera');\n      this.flyNode.start();\n\n      // orient camera to start of flythrough\n      const { position, rotation } = this.camCon.getPoseAt(0);\n      await sdk.Mode.moveTo(sdk.Mode.Mode.DOLLHOUSE, {\n        position,\n        rotation: {x: rotation.x*180/Math.PI, y: rotation.y*180/Math.PI},\n      });\n\n      // start flythough\n      this.setState({flyU: 0});\n      this.playFly();\n    }\n  };\n\n  private exitFly = async () => {\n    const { sdk, flyNode } = this;\n    if (flyNode) flyNode.stop();\n    if (sdk) sdk.Mode.moveTo(sdk.Mode.Mode.INSIDE);\n    this.setState({ flyModePlaying: false, });\n  };\n\n  private playFly = () => {\n    if (this.camCon) this.camCon.inputs.enabled = true;\n    this.setState({ flyModePlaying: true, });\n  };\n  private pauseFly = () => {\n    if (this.camCon) this.camCon.inputs.enabled = false;\n    this.setState({ flyModePlaying: false, });\n  };\n  private setFlyU = (u: number) => {if (this.camCon) this.camCon.setU(u)};\n\n  private toggleMenu = () => {\n    this.setState({\n      menuEnabled: !this.state.menuEnabled,\n    });\n  }\n\n  private async translateMattertags(lang: string) {\n    const { sdk } = this;\n\n    if (sdk && lang) {\n      const Trans = new Translator(lang);\n      const mattertagData = await sdk.Mattertag.getData();\n      for (let i=0; i<mattertagData.length; i++) {\n        const { sid, label, description, media } = mattertagData[i];\n        const callBack = (newTexts: string[]) => {\n          const [ newLabel, newDescription] = newTexts;\n          sdk.Mattertag.editBillboard(sid, {\n            label: newLabel, \n            description: newDescription, \n            media,\n          });\n        };\n        Trans.translate([label, description], callBack);\n      }\n      Trans.checkUsage();\n    }\n  }\n\n  private async changeLang(lang: string) {\n    this.setState({lang});\n    this.translateMattertags(lang);\n  }\n\n  // --- Render ----------------------------------------------------------------\n\n  public render() {\n    const {\n      lang,\n      currSweepId,\n      selectedSweepId,\n      sweepData,\n      menuEnabled,\n      flyModeEnabled,\n      flyU,\n      path,\n      flyModePlaying,\n      floorMap,\n    } = this.state;\n\n    return (\n      <div className='app'>\n        <div id='frame-container'>\n          <Frame src={this.src} disableClicks={flyModeEnabled} />\n          <div id='overlay-container'>\n            {/* Put all showcase overlay components here */}\n            { path && (\n              flyModeEnabled ?\n              <ControlsOverlay\n                playing={flyModePlaying}\n                onPlay={this.playFly}\n                onPause={this.pauseFly}\n                onExit={this.toggleFlyMode}\n                setU={this.setFlyU}\n                u={flyU}\n              /> \n              :\n              <div className='nofly-button-container'>\n                <FlyModeButton\n                  lang={lang}\n                  onClick={this.toggleFlyMode} \n                />\n                <IconButton onClick={this.clearSelection} icon='close' classes={['clear-button']} />\n            </div>\n            )}\n          </div>\n        </div>\n        { !menuEnabled &&\n          <MenuButton onClick={this.toggleMenu} />\n        }\n        { menuEnabled &&\n          <Menu\n            lang={lang}\n            currSweepId={currSweepId}\n            selectedSweepId={selectedSweepId}\n            sweepData={sweepData}\n            sweepAlias={this.sweepAlias}\n            floorMap={floorMap}\n            onChange={this.onOptionSelect}\n            onClose={this.toggleMenu}\n            onChangeLang={(e) => this.changeLang(e.target.value)}\n          />\n        }\n        </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './app/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"]}}